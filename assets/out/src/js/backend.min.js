/*!
 * 
 * Super simple wysiwyg editor v0.8.18
 * https://summernote.org
 * 
 * 
 * Copyright 2013- Alan Hong. and other contributors
 * summernote may be freely distributed under the MIT license.
 * 
 * Date: 2020-05-20T18:09Z
 * 
 */
!function(a,b){if("object"==typeof exports&&"object"==typeof module)module.exports=b(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],b);else{var c=b("object"==typeof exports?require("jquery"):a.jQuery);for(var d in c)("object"==typeof exports?exports:a)[d]=c[d]}}(window,function(a){/******/
return function(a){/******/
/******/
// The require function
/******/
function b(d){/******/
/******/
// Check if module is in cache
/******/
if(c[d])/******/
return c[d].exports;/******/
// Create a new module (and put it into the cache)
/******/
var e=c[d]={/******/
i:d,/******/
l:!1,/******/
exports:{}};/******/
/******/
// Return the exports of the module
/******/
/******/
/******/
// Execute the module function
/******/
/******/
/******/
// Flag the module as loaded
/******/
return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}// webpackBootstrap
/******/
// The module cache
/******/
var c={};/******/
/******/
/******/
// Load entry module and return exports
/******/
/******/
/******/
/******/
// expose the modules object (__webpack_modules__)
/******/
/******/
/******/
// expose the module cache
/******/
/******/
/******/
// define getter function for harmony exports
/******/
/******/
/******/
// define __esModule on exports
/******/
/******/
/******/
// create a fake namespace object
/******/
// mode & 1: value is a module id, require it
/******/
// mode & 2: merge all properties of value into the ns
/******/
// mode & 4: return value when already ns object
/******/
// mode & 8|1: behave like require
/******/
/******/
/******/
// getDefaultExport function for compatibility with non-harmony modules
/******/
/******/
/******/
// Object.prototype.hasOwnProperty.call
/******/
/******/
/******/
// __webpack_public_path__
/******/
return b.m=a,b.c=c,b.d=function(a,c,d){/******/
b.o(a,c)||/******/
Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){/******/
"undefined"!=typeof Symbol&&Symbol.toStringTag&&/******/
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),/******/
Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){/******/
if(/******/
1&c&&(a=b(a)),8&c)return a;/******/
if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;/******/
var d=Object.create(null);/******/
if(/******/
b.r(d),/******/
Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));/******/
return d},b.n=function(a){/******/
var c=a&&a.__esModule?/******/
function(){return a["default"]}:/******/
function(){return a};/******/
/******/
return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=52)}({/***/
0:/***/
function(b,c){b.exports=a},/***/
1:/***/
function(a,b,c){"use strict";function d(a){"@babel/helpers - typeof";return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}/* harmony import */
var h=c(0),i=/*#__PURE__*/c.n(h),j=/*#__PURE__*/function(){function a(b,c,d,f){e(this,a),this.markup=b,this.children=c,this.options=d,this.callback=f}return g(a,[{key:"render",value:function(a){var b=i()(this.markup);if(this.options&&this.options.contents&&b.html(this.options.contents),this.options&&this.options.className&&b.addClass(this.options.className),this.options&&this.options.data&&i.a.each(this.options.data,function(a,c){b.attr("data-"+a,c)}),this.options&&this.options.click&&b.on("click",this.options.click),this.children){var c=b.find(".note-children-container");this.children.forEach(function(a){a.render(c.length?c:b)})}return this.callback&&this.callback(b,this.options),this.options&&this.options.callback&&this.options.callback(b),a&&a.append(b),b}}]),a}();/* harmony default export */
b.a={create:function(a,b){return function(){var c="object"===d(arguments[1])?arguments[1]:arguments[0],e=Array.isArray(arguments[0])?arguments[0]:[];return c&&c.children&&(e=c.children),new j(a,e,c,b)}}}},/***/
2:/***/
function(a,b){/* WEBPACK VAR INJECTION */
(function(b){/* globals __webpack_amd_options__ */
a.exports=b}).call(this,{})},/***/
3:/***/
function(a,b,c){"use strict";function d(a){return Lc.a.inArray(a.toLowerCase(),Oc)===-1?"'".concat(a,"'"):a}function e(a){var b="Comic Sans MS"===a?"Courier New":"Comic Sans MS",c="mmmmmmmmmmwwwww",e="200px",f=document.createElement("canvas"),g=f.getContext("2d");g.font=e+" '"+b+"'";var h=g.measureText(c).width;g.font=e+" "+d(a)+', "'+b+'"';var i=g.measureText(c).width;return h!==i}
// CONCATENATED MODULE: ./src/js/base/core/func.js
/**
 * @class core.func
 *
 * func utils (for high-order func's arg)
 *
 * @singleton
 * @alternateClassName func
 */
function f(a){return function(b){return a===b}}function g(a,b){return a===b}function h(a){return function(b,c){return b[a]===c[a]}}function i(){return!0}function j(){return!1}function k(a){return function(){return!a.apply(a,arguments)}}function l(a,b){return function(c){return a(c)&&b(c)}}function m(a){return a}function n(a,b){return function(){return a[b].apply(a,arguments)}}/**
 * reset globally-unique id
 *
 */
function o(){Wc=0}/**
 * generate a globally-unique id
 *
 * @param {String} [prefix]
 */
function p(a){var b=++Wc+"";return a?a+b:b}/**
 * returns bnd (bounds) from rect
 *
 * - IE Compatibility Issue: http://goo.gl/sRLOAo
 * - Scroll Issue: http://goo.gl/sNjUc
 *
 * @param {Rect} rect
 * @return {Object} bounds
 * @return {Number} bounds.top
 * @return {Number} bounds.left
 * @return {Number} bounds.width
 * @return {Number} bounds.height
 */
function q(a){var b=Lc()(document);return{top:a.top+b.scrollTop(),left:a.left+b.scrollLeft(),width:a.right-a.left,height:a.bottom-a.top}}/**
 * returns a copy of the object where the keys have become the values and the values the keys.
 * @param {Object} obj
 * @return {Object}
 */
function r(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[a[c]]=c);return b}/**
 * @param {String} namespace
 * @param {String} [prefix]
 * @return {String}
 */
function s(a,b){return b=b||"",b+a.split(".").map(function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}).join("")}/**
 * Returns a function, that, as long as it continues to be invoked, will not
 * be triggered. The function will be called after it stops being called for
 * N milliseconds. If `immediate` is passed, trigger the function on the
 * leading edge, instead of the trailing.
 * @param {Function} func
 * @param {Number} wait
 * @param {Boolean} immediate
 * @return {Function}
 */
function t(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}/**
 *
 * @param {String} url
 * @return {Boolean}
 */
function u(a){var b=/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi;return b.test(a)}
// CONCATENATED MODULE: ./src/js/base/core/lists.js
/**
 * returns the first item of an array.
 *
 * @param {Array} array
 */
function v(a){return a[0]}/**
 * returns the last item of an array.
 *
 * @param {Array} array
 */
function w(a){return a[a.length-1]}/**
 * returns everything but the last entry of the array.
 *
 * @param {Array} array
 */
function x(a){return a.slice(0,a.length-1)}/**
 * returns the rest of the items in an array.
 *
 * @param {Array} array
 */
function y(a){return a.slice(1)}/**
 * returns item of array
 */
function z(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(b(e))return e}}/**
 * returns true if all of the values in the array pass the predicate truth test.
 */
function A(a,b){for(var c=0,d=a.length;c<d;c++)if(!b(a[c]))return!1;return!0}/**
 * returns true if the value is present in the list.
 */
function B(a,b){if(a&&a.length&&b){if(a.indexOf)return a.indexOf(b)!==-1;if(a.contains)
// `DOMTokenList` doesn't implement `.indexOf`, but it implements `.contains`
return a.contains(b)}return!1}/**
 * get sum from a list
 *
 * @param {Array} array - array
 * @param {Function} fn - iterator
 */
function C(a,b){return b=b||Xc.self,a.reduce(function(a,c){return a+b(c)},0)}/**
 * returns a copy of the collection with array type.
 * @param {Collection} collection - collection eg) node.childNodes, ...
 */
function D(a){for(var b=[],c=a.length,d=-1;++d<c;)b[d]=a[d];return b}/**
 * returns whether list is empty or not
 */
function E(a){return!a||!a.length}/**
 * cluster elements by predicate function.
 *
 * @param {Array} array - array
 * @param {Function} fn - predicate function for cluster rule
 * @param {Array[]}
 */
function F(a,b){if(!a.length)return[];var c=y(a);return c.reduce(function(a,c){var d=w(a);return b(w(d),c)?d[d.length]=c:a[a.length]=[c],a},[[v(a)]])}/**
 * returns a copy of the array with all false values removed
 *
 * @param {Array} array - array
 * @param {Function} fn - predicate function for cluster rule
 */
function G(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]&&b.push(a[c]);return b}/**
 * produces a duplicate-free version of the array
 *
 * @param {Array} array
 */
function H(a){for(var b=[],c=0,d=a.length;c<d;c++)B(b,a[c])||b.push(a[c]);return b}/**
 * returns next item.
 * @param {Array} array
 */
function I(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return c===-1?null:a[c+1]}return null}/**
 * returns prev item.
 * @param {Array} array
 */
function J(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return c===-1?null:a[c-1]}return null}/**
 * @method isEditable
 *
 * returns whether node is `note-editable` or not.
 *
 * @param {Node} node
 * @return {Boolean}
 */
function K(a){return a&&Lc()(a).hasClass("note-editable")}/**
 * @method isControlSizing
 *
 * returns whether node is `note-control-sizing` or not.
 *
 * @param {Node} node
 * @return {Boolean}
 */
function L(a){return a&&Lc()(a).hasClass("note-control-sizing")}/**
 * @method makePredByNodeName
 *
 * returns predicate which judge whether nodeName is same
 *
 * @param {String} nodeName
 * @return {Function}
 */
function M(a){return a=a.toUpperCase(),function(b){return b&&b.nodeName.toUpperCase()===a}}/**
 * @method isText
 *
 *
 *
 * @param {Node} node
 * @return {Boolean} true if node's type is text(3)
 */
function N(a){return a&&3===a.nodeType}/**
 * @method isElement
 *
 *
 *
 * @param {Node} node
 * @return {Boolean} true if node's type is element(1)
 */
function O(a){return a&&1===a.nodeType}/**
 * ex) br, col, embed, hr, img, input, ...
 * @see http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements
 */
function P(a){return a&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(a.nodeName.toUpperCase())}function Q(a){return!K(a)&&(a&&/^DIV|^P|^LI|^H[1-7]/.test(a.nodeName.toUpperCase()))}function R(a){return a&&/^H[1-7]/.test(a.nodeName.toUpperCase())}function S(a){return Q(a)&&!ad(a)}function T(a){return!(W(a)||U(a)||dd(a)||Q(a)||bd(a)||ed(a)||cd(a))}function U(a){return a&&/^UL|^OL/.test(a.nodeName.toUpperCase())}function V(a){return a&&/^TD|^TH/.test(a.nodeName.toUpperCase())}function W(a){return V(a)||ed(a)||K(a)}function X(a){return T(a)&&!!da(a,Q)}function Y(a){return T(a)&&!da(a,Q)}/**
 * returns whether nodeB is closest sibling of nodeA
 *
 * @param {Node} nodeA
 * @param {Node} nodeB
 * @return {Boolean}
 */
function Z(a,b){return a.nextSibling===b||a.previousSibling===b}/**
 * returns array of closest siblings with node
 *
 * @param {Node} node
 * @param {function} [pred] - predicate function
 * @return {Node[]}
 */
function $(a,b){b=b||Xc.ok;var c=[];return a.previousSibling&&b(a.previousSibling)&&c.push(a.previousSibling),c.push(a),a.nextSibling&&b(a.nextSibling)&&c.push(a.nextSibling),c}/**
 * @method nodeLength
 *
 * returns #text's text size or element's childNodes size
 *
 * @param {Node} node
 */
function _(a){return N(a)?a.nodeValue.length:a?a.childNodes.length:0}/**
 * returns whether deepest child node is empty or not.
 *
 * @param {Node} node
 * @return {Boolean}
 */
function aa(a){do if(null===a.firstElementChild||""===a.firstElementChild.innerHTML)break;while(a=a.firstElementChild);return ba(a)}/**
 * returns whether node is empty or not.
 *
 * @param {Node} node
 * @return {Boolean}
 */
function ba(a){var b=_(a);return 0===b||(!N(a)&&1===b&&a.innerHTML===hd||!(!Yc.all(a.childNodes,N)||""!==a.innerHTML))}/**
 * padding blankHTML if node is empty (for cursor position)
 */
function ca(a){P(a)||_(a)||(a.innerHTML=hd)}/**
 * find nearest ancestor predicate hit
 *
 * @param {Node} node
 * @param {Function} pred - predicate function
 */
function da(a,b){for(;a;){if(b(a))return a;if(K(a))break;a=a.parentNode}return null}/**
 * find nearest ancestor only single child blood line and predicate hit
 *
 * @param {Node} node
 * @param {Function} pred - predicate function
 */
function ea(a,b){for(a=a.parentNode;a&&1===_(a);){if(b(a))return a;if(K(a))break;a=a.parentNode}return null}/**
 * returns new array of ancestor nodes (until predicate hit).
 *
 * @param {Node} node
 * @param {Function} [optional] pred - predicate function
 */
function fa(a,b){b=b||Xc.fail;var c=[];return da(a,function(a){return K(a)||c.push(a),b(a)}),c}/**
 * find farthest ancestor predicate hit
 */
function ga(a,b){var c=fa(a);return Yc.last(c.filter(b))}/**
 * returns common ancestor node between two nodes.
 *
 * @param {Node} nodeA
 * @param {Node} nodeB
 */
function ha(a,b){for(var c=fa(a),d=b;d;d=d.parentNode)if(c.indexOf(d)>-1)return d;return null}/**
 * listing all previous siblings (until predicate hit).
 *
 * @param {Node} node
 * @param {Function} [optional] pred - predicate function
 */
function ia(a,b){b=b||Xc.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.previousSibling;return c}/**
 * listing next siblings (until predicate hit).
 *
 * @param {Node} node
 * @param {Function} [pred] - predicate function
 */
function ja(a,b){b=b||Xc.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.nextSibling;return c}/**
 * listing descendant nodes
 *
 * @param {Node} node
 * @param {Function} [pred] - predicate function
 */
function ka(a,b){var c=[];// start DFS(depth first search) with node
return b=b||Xc.ok,function d(e){a!==e&&b(e)&&c.push(e);for(var f=0,g=e.childNodes.length;f<g;f++)d(e.childNodes[f])}(a),c}/**
 * wrap node with new tag.
 *
 * @param {Node} node
 * @param {Node} tagName of wrapper
 * @return {Node} - wrapper
 */
function la(a,b){var c=a.parentNode,d=Lc()("<"+b+">")[0];return c.insertBefore(d,a),d.appendChild(a),d}/**
 * insert node after preceding
 *
 * @param {Node} node
 * @param {Node} preceding - predicate function
 */
function ma(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}/**
 * append elements.
 *
 * @param {Node} node
 * @param {Collection} aChild
 */
function na(a,b){return Lc.a.each(b,function(b,c){a.appendChild(c)}),a}/**
 * returns whether boundaryPoint is left edge or not.
 *
 * @param {BoundaryPoint} point
 * @return {Boolean}
 */
function oa(a){return 0===a.offset}/**
 * returns whether boundaryPoint is right edge or not.
 *
 * @param {BoundaryPoint} point
 * @return {Boolean}
 */
function pa(a){return a.offset===_(a.node)}/**
 * returns whether boundaryPoint is edge or not.
 *
 * @param {BoundaryPoint} point
 * @return {Boolean}
 */
function qa(a){return oa(a)||pa(a)}/**
 * returns whether node is left edge of ancestor or not.
 *
 * @param {Node} node
 * @param {Node} ancestor
 * @return {Boolean}
 */
function ra(a,b){for(;a&&a!==b;){if(0!==va(a))return!1;a=a.parentNode}return!0}/**
 * returns whether node is right edge of ancestor or not.
 *
 * @param {Node} node
 * @param {Node} ancestor
 * @return {Boolean}
 */
function sa(a,b){if(!b)return!1;for(;a&&a!==b;){if(va(a)!==_(a.parentNode)-1)return!1;a=a.parentNode}return!0}/**
 * returns whether point is left edge of ancestor or not.
 * @param {BoundaryPoint} point
 * @param {Node} ancestor
 * @return {Boolean}
 */
function ta(a,b){return oa(a)&&ra(a.node,b)}/**
 * returns whether point is right edge of ancestor or not.
 * @param {BoundaryPoint} point
 * @param {Node} ancestor
 * @return {Boolean}
 */
function ua(a,b){return pa(a)&&sa(a.node,b)}/**
 * returns offset from parent.
 *
 * @param {Node} node
 */
function va(a){for(var b=0;a=a.previousSibling;)b+=1;return b}function wa(a){return!!(a&&a.childNodes&&a.childNodes.length)}/**
 * returns previous boundaryPoint
 *
 * @param {BoundaryPoint} point
 * @param {Boolean} isSkipInnerOffset
 * @return {BoundaryPoint}
 */
function xa(a,b){var c,d;if(0===a.offset){if(K(a.node))return null;c=a.node.parentNode,d=va(a.node)}else wa(a.node)?(c=a.node.childNodes[a.offset-1],d=_(c)):(c=a.node,d=b?0:a.offset-1);return{node:c,offset:d}}/**
 * returns next boundaryPoint
 *
 * @param {BoundaryPoint} point
 * @param {Boolean} isSkipInnerOffset
 * @return {BoundaryPoint}
 */
function ya(a,b){var c,d;if(_(a.node)===a.offset){if(K(a.node))return null;var e=Aa(a.node);e?(c=e,d=0):(c=a.node.parentNode,d=va(a.node)+1)}else wa(a.node)?(c=a.node.childNodes[a.offset],d=0):(c=a.node,d=b?_(a.node):a.offset+1);return{node:c,offset:d}}/**
 * returns next boundaryPoint with empty node
 *
 * @param {BoundaryPoint} point
 * @param {Boolean} isSkipInnerOffset
 * @return {BoundaryPoint}
 */
function za(a,b){var c,d;// if node is empty string node, return current node's sibling.
if(ba(a.node))return c=a.node.nextSibling,d=0,{node:c,offset:d};if(_(a.node)===a.offset){if(K(a.node))return null;var e=Aa(a.node);e?(c=e,d=0):(c=a.node.parentNode,d=va(a.node)+1),// if next node is editable, return current node's sibling node.
K(c)&&(c=a.node.nextSibling,d=0)}else if(wa(a.node)){if(c=a.node.childNodes[a.offset],d=0,ba(c))return null}else if(c=a.node,d=b?_(a.node):a.offset+1,ba(c))return null;return{node:c,offset:d}}/*
* returns the next Text node index or 0 if not found.
*/
function Aa(a){if(a.nextSibling&&a.parent===a.nextSibling.parent)return N(a.nextSibling)?a.nextSibling:Aa(a.nextSibling)}/**
 * returns whether pointA and pointB is same or not.
 *
 * @param {BoundaryPoint} pointA
 * @param {BoundaryPoint} pointB
 * @return {Boolean}
 */
function Ba(a,b){return a.node===b.node&&a.offset===b.offset}/**
 * returns whether point is visible (can set cursor) or not.
 *
 * @param {BoundaryPoint} point
 * @return {Boolean}
 */
function Ca(a){if(N(a.node)||!wa(a.node)||ba(a.node))return!0;var b=a.node.childNodes[a.offset-1],c=a.node.childNodes[a.offset];return!(b&&!P(b)||c&&!P(c))}/**
 * @method prevPointUtil
 *
 * @param {BoundaryPoint} point
 * @param {Function} pred
 * @return {BoundaryPoint}
 */
function Da(a,b){for(;a;){if(b(a))return a;a=xa(a)}return null}/**
 * @method nextPointUntil
 *
 * @param {BoundaryPoint} point
 * @param {Function} pred
 * @return {BoundaryPoint}
 */
function Ea(a,b){for(;a;){if(b(a))return a;a=ya(a)}return null}/**
 * returns whether point has character or not.
 *
 * @param {Point} point
 * @return {Boolean}
 */
function Fa(a){if(!N(a.node))return!1;var b=a.node.nodeValue.charAt(a.offset-1);return b&&" "!==b&&b!==Zc}/**
 * returns whether point has space or not.
 *
 * @param {Point} point
 * @return {Boolean}
 */
function Ga(a){if(!N(a.node))return!1;var b=a.node.nodeValue.charAt(a.offset-1);return" "===b||b===Zc}/**
 * @method walkPoint
 *
 * @param {BoundaryPoint} startPoint
 * @param {BoundaryPoint} endPoint
 * @param {Function} handler
 * @param {Boolean} isSkipInnerOffset
 */
function Ha(a,b,c,d){for(var e=a;e&&(c(e),!Ba(e,b));){var f=d&&a.node!==e.node&&b.node!==e.node;e=za(e,f)}}/**
 * @method makeOffsetPath
 *
 * return offsetPath(array of offset) from ancestor
 *
 * @param {Node} ancestor - ancestor node
 * @param {Node} node
 */
function Ia(a,b){var c=fa(b,Xc.eq(a));return c.map(va).reverse()}/**
 * @method fromOffsetPath
 *
 * return element from offsetPath(array of offset)
 *
 * @param {Node} ancestor - ancestor node
 * @param {array} offsets - offsetPath
 */
function Ja(a,b){for(var c=a,d=0,e=b.length;d<e;d++)c=c.childNodes.length<=b[d]?c.childNodes[c.childNodes.length-1]:c.childNodes[b[d]];return c}/**
 * @method splitNode
 *
 * split element or #text
 *
 * @param {BoundaryPoint} point
 * @param {Object} [options]
 * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false
 * @param {Boolean} [options.isNotSplitEdgePoint] - default: false
 * @param {Boolean} [options.isDiscardEmptySplits] - default: false
 * @return {Node} right node of boundaryPoint
 */
function Ka(a,b){var c=b&&b.isSkipPaddingBlankHTML,d=b&&b.isNotSplitEdgePoint,e=b&&b.isDiscardEmptySplits;// edge case
if(e&&(c=!0),qa(a)&&(N(a.node)||d)){if(oa(a))return a.node;if(pa(a))return a.node.nextSibling}// split #text
if(N(a.node))return a.node.splitText(a.offset);var f=a.node.childNodes[a.offset],g=ma(a.node.cloneNode(!1),a.node);return na(g,ja(f)),c||(ca(a.node),ca(g)),e&&(ba(a.node)&&Pa(a.node),ba(g))?(Pa(g),a.node.nextSibling):g}/**
 * @method splitTree
 *
 * split tree by point
 *
 * @param {Node} root - split root
 * @param {BoundaryPoint} point
 * @param {Object} [options]
 * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false
 * @param {Boolean} [options.isNotSplitEdgePoint] - default: false
 * @return {Node} right node of boundaryPoint
 */
function La(a,b,c){
// ex) [#text, <span>, <p>]
var d=fa(b.node,Xc.eq(a));return d.length?1===d.length?Ka(b,c):d.reduce(function(a,d){return a===b.node&&(a=Ka(b,c)),Ka({node:d,offset:a?va(a):_(d)},c)}):null}/**
 * split point
 *
 * @param {Point} point
 * @param {Boolean} isInline
 * @return {Object}
 */
function Ma(a,b){
// find splitRoot, container
//  - inline: splitRoot is a child of paragraph
//  - block: splitRoot is a child of bodyContainer
var c,d,e=b?Q:W,f=fa(a.node,e),g=Yc.last(f)||a.node;e(g)?(c=f[f.length-2],d=g):(c=g,d=c.parentNode);// if splitRoot is exists, split with splitTree
var h=c&&La(c,a,{isSkipPaddingBlankHTML:b,isNotSplitEdgePoint:b});// if container is point.node, find pivot with point.offset
return h||d!==a.node||(h=a.node.childNodes[a.offset]),{rightNode:h,container:d}}function Na(a){return document.createElement(a)}function Oa(a){return document.createTextNode(a)}/**
 * @method remove
 *
 * remove node, (isRemoveChild: remove child or not)
 *
 * @param {Node} node
 * @param {Boolean} isRemoveChild
 */
function Pa(a,b){if(a&&a.parentNode){if(a.removeNode)return a.removeNode(b);var c=a.parentNode;if(!b){for(var d=[],e=0,f=a.childNodes.length;e<f;e++)d.push(a.childNodes[e]);for(var g=0,h=d.length;g<h;g++)c.insertBefore(d[g],a)}c.removeChild(a)}}/**
 * @method removeWhile
 *
 * @param {Node} node
 * @param {Function} pred
 */
function Qa(a,b){for(;a&&!K(a)&&b(a);){var c=a.parentNode;Pa(a),a=c}}/**
 * @method replace
 *
 * replace node with provided nodeName
 *
 * @param {Node} node
 * @param {String} nodeName
 * @return {Node} - new node
 */
function Ra(a,b){if(a.nodeName.toUpperCase()===b.toUpperCase())return a;var c=Na(b);return a.style.cssText&&(c.style.cssText=a.style.cssText),na(c,Yc.from(a.childNodes)),ma(c,a),Pa(a),c}/**
 * @param {jQuery} $node
 * @param {Boolean} [stripLinebreaks] - default: false
 */
function Sa(a,b){var c=id(a[0])?a.val():a.html();return b?c.replace(/[\n\r]/g,""):c}/**
 * @method html
 *
 * get the HTML contents of node
 *
 * @param {jQuery} $node
 * @param {Boolean} [isNewlineOnBlock]
 */
function Ta(a,b){var c=Sa(a);if(b){var d=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;c=c.replace(d,function(a,b,c){c=c.toUpperCase();var d=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b,e=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(d||e?"\n":"")}),c=c.trim()}return c}function Ua(a){var b=Lc()(a),c=b.offset(),d=b.outerHeight(!0);// include margin
return{left:c.left,top:c.top+d}}function Va(a,b){Object.keys(b).forEach(function(c){a.on(c,b[c])})}function Wa(a,b){Object.keys(b).forEach(function(c){a.off(c,b[c])})}/**
 * @method isCustomStyleTag
 *
 * assert if a node contains a "note-styletag" class,
 * which implies that's a custom-made style tag node
 *
 * @param {Node} an HTML DOM node
 */
function Xa(a){return a&&!N(a)&&Yc.contains(a.classList,"note-styletag")}
// CONCATENATED MODULE: ./src/js/base/Context.js
function Ya(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Za(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function $a(a,b,c){return b&&Za(a.prototype,b),c&&Za(a,c),a}
// CONCATENATED MODULE: ./src/js/base/core/range.js
function _a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ab(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function bb(a,b,c){return b&&ab(a.prototype,b),c&&ab(a,c),a}/**
 * return boundaryPoint from TextRange, inspired by Andy Na's HuskyRange.js
 *
 * @param {TextRange} textRange
 * @param {Boolean} isStart
 * @return {BoundaryPoint}
 *
 * @see http://msdn.microsoft.com/en-us/library/ie/ms535872(v=vs.85).aspx
 */
function cb(a,b){var c,d,e=a.parentElement(),f=document.body.createTextRange(),g=Yc.from(e.childNodes);for(c=0;c<g.length;c++)if(!jd.isText(g[c])){if(f.moveToElementText(g[c]),f.compareEndPoints("StartToStart",a)>=0)break;d=g[c]}if(0!==c&&jd.isText(g[c-1])){var h=document.body.createTextRange(),i=null;h.moveToElementText(d||e),h.collapse(!d),i=d?d.nextSibling:e.firstChild;var j=a.duplicate();j.setEndPoint("StartToStart",h);for(var k=j.text.replace(/[\r\n]/g,"").length;k>i.nodeValue.length&&i.nextSibling;)k-=i.nodeValue.length,i=i.nextSibling;// [workaround] enforce IE to re-reference curTextNode, hack
i.nodeValue;// eslint-disable-line
b&&i.nextSibling&&jd.isText(i.nextSibling)&&k===i.nodeValue.length&&(k-=i.nodeValue.length,i=i.nextSibling),e=i,c=k}return{cont:e,offset:c}}/**
 * return TextRange from boundary point (inspired by google closure-library)
 * @param {BoundaryPoint} point
 * @return {TextRange}
 */
function db(a){var b=function e(a,b){var c,d;if(jd.isText(a)){var f=jd.listPrev(a,Xc.not(jd.isText)),g=Yc.last(f).previousSibling;c=g||a.parentNode,b+=Yc.sum(Yc.tail(f),jd.nodeLength),d=!g}else{if(c=a.childNodes[b]||a,jd.isText(c))return e(c,0);b=0,d=!1}return{node:c,collapseToStart:d,offset:b}},c=document.body.createTextRange(),d=b(a.node,a.offset);return c.moveToElementText(d.node),c.collapse(d.collapseToStart),c.moveStart("character",d.offset),c}
// CONCATENATED MODULE: ./src/js/base/core/async.js
/**
 * @method readFileAsDataURL
 *
 * read contents of file as representing URL
 *
 * @param {File} file
 * @return {Promise} - then: dataUrl
 */
function eb(a){return Lc.a.Deferred(function(b){Lc.a.extend(new FileReader,{onload:function(a){var c=a.target.result;b.resolve(c)},onerror:function(a){b.reject(a)}}).readAsDataURL(a)}).promise()}/**
 * @method createImage
 *
 * create `<image>` from url string
 *
 * @param {String} url
 * @return {Promise} - then: $image
 */
function fb(a){return Lc.a.Deferred(function(b){var c=Lc()("<img>");c.one("load",function(){c.off("error abort"),b.resolve(c)}).one("error abort",function(){c.off("load").detach(),b.reject(c)}).css({display:"none"}).appendTo(document.body).attr("src",a)}).promise()}
// CONCATENATED MODULE: ./src/js/base/editing/History.js
function gb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function hb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function ib(a,b,c){return b&&hb(a.prototype,b),c&&hb(a,c),a}
// CONCATENATED MODULE: ./src/js/base/editing/Style.js
function jb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function kb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function lb(a,b,c){return b&&kb(a.prototype,b),c&&kb(a,c),a}
// CONCATENATED MODULE: ./src/js/base/editing/Bullet.js
function mb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function nb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function ob(a,b,c){return b&&nb(a.prototype,b),c&&nb(a,c),a}
// CONCATENATED MODULE: ./src/js/base/editing/Typing.js
function pb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function qb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function rb(a,b,c){return b&&qb(a.prototype,b),c&&qb(a,c),a}
// CONCATENATED MODULE: ./src/js/base/editing/Table.js
function sb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function tb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function ub(a,b,c){return b&&tb(a.prototype,b),c&&tb(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/Editor.js
function vb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function wb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function xb(a,b,c){return b&&wb(a.prototype,b),c&&wb(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/Clipboard.js
function yb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function zb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Ab(a,b,c){return b&&zb(a.prototype,b),c&&zb(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/Dropzone.js
function Bb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Cb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Db(a,b,c){return b&&Cb(a.prototype,b),c&&Cb(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/Codeview.js
function Eb(a){if("undefined"==typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(a=Fb(a))){var b=0,c=function(){};return{s:c,n:function(){return b>=a.length?{done:!0}:{done:!1,value:a[b++]}},e:function(a){throw a},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,e,f=!0,g=!1;return{s:function(){d=a[Symbol.iterator]()},n:function(){var a=d.next();return f=a.done,a},e:function(a){g=!0,e=a},f:function(){try{f||null==d["return"]||d["return"]()}finally{if(g)throw e}}}}function Fb(a,b){if(a){if("string"==typeof a)return Gb(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(c):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Gb(a,b):void 0}}function Gb(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function Hb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ib(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Jb(a,b,c){return b&&Ib(a.prototype,b),c&&Ib(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/Statusbar.js
function Kb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Lb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Mb(a,b,c){return b&&Lb(a.prototype,b),c&&Lb(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/Fullscreen.js
function Nb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ob(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Pb(a,b,c){return b&&Ob(a.prototype,b),c&&Ob(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/Handle.js
function Qb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Rb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Sb(a,b,c){return b&&Rb(a.prototype,b),c&&Rb(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/AutoLink.js
function Tb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ub(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Vb(a,b,c){return b&&Ub(a.prototype,b),c&&Ub(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/AutoSync.js
function Wb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Xb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Yb(a,b,c){return b&&Xb(a.prototype,b),c&&Xb(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/AutoReplace.js
function Zb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function $b(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function _b(a,b,c){return b&&$b(a.prototype,b),c&&$b(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/Placeholder.js
function ac(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function bc(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function cc(a,b,c){return b&&bc(a.prototype,b),c&&bc(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/Buttons.js
function dc(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ec(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function fc(a,b,c){return b&&ec(a.prototype,b),c&&ec(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/Toolbar.js
function gc(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function hc(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function ic(a,b,c){return b&&hc(a.prototype,b),c&&hc(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/LinkDialog.js
function jc(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function kc(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function lc(a,b,c){return b&&kc(a.prototype,b),c&&kc(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/LinkPopover.js
function mc(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function nc(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function oc(a,b,c){return b&&nc(a.prototype,b),c&&nc(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/ImageDialog.js
function pc(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function qc(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function rc(a,b,c){return b&&qc(a.prototype,b),c&&qc(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/ImagePopover.js
function sc(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function tc(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function uc(a,b,c){return b&&tc(a.prototype,b),c&&tc(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/TablePopover.js
function vc(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function wc(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function xc(a,b,c){return b&&wc(a.prototype,b),c&&wc(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/VideoDialog.js
function yc(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function zc(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Ac(a,b,c){return b&&zc(a.prototype,b),c&&zc(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/HelpDialog.js
function Bc(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Cc(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Dc(a,b,c){return b&&Cc(a.prototype,b),c&&Cc(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/AirPopover.js
function Ec(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Fc(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Gc(a,b,c){return b&&Fc(a.prototype,b),c&&Fc(a,c),a}
// CONCATENATED MODULE: ./src/js/base/module/HintPopover.js
function Hc(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ic(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Jc(a,b,c){return b&&Ic(a.prototype,b),c&&Ic(a,c),a}
// EXTERNAL MODULE: external {"root":"jQuery","commonjs2":"jquery","commonjs":"jquery","amd":"jquery"}
var Kc=c(0),Lc=/*#__PURE__*/c.n(Kc);
// CONCATENATED MODULE: ./src/js/base/summernote-en-US.js
Lc.a.summernote=Lc.a.summernote||{lang:{}},Lc.a.extend(Lc.a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size",sizeunit:"Font Size Unit"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window",useProtocol:"Use default protocol"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Text Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{escape:"Escape",insertParagraph:"Insert Paragraph",undo:"Undo the last command",redo:"Redo the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"},output:{noSelection:"No Selection Made!"}}});
// CONCATENATED MODULE: ./src/js/base/core/env.js
var Mc,Nc="function"==typeof define&&c(2),Oc=["sans-serif","serif","monospace","cursive","fantasy"],Pc=navigator.userAgent,Qc=/MSIE|Trident/i.test(Pc);if(Qc){var Rc=/MSIE (\d+[.]\d+)/.exec(Pc);Rc&&(Mc=parseFloat(Rc[1])),Rc=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(Pc),Rc&&(Mc=parseFloat(Rc[1]))}var Sc=/Edge\/\d+/.test(Pc),Tc="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,Uc=Qc?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",Vc={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:Qc,isEdge:Sc,isFF:!Sc&&/firefox/i.test(Pc),isPhantom:/PhantomJS/i.test(Pc),isWebkit:!Sc&&/webkit/i.test(Pc),isChrome:!Sc&&/chrome/i.test(Pc),isSafari:!Sc&&/safari/i.test(Pc)&&!/chrome/i.test(Pc),browserVersion:Mc,jqueryVersion:parseFloat(Lc.a.fn.jquery),isSupportAmd:Nc,isSupportTouch:Tc,isFontInstalled:e,isW3CRangeSupport:!!document.createRange,inputEventName:Uc,genericFontFamilies:Oc,validFontName:d},Wc=0,Xc={eq:f,eq2:g,peq2:h,ok:i,fail:j,self:m,not:k,and:l,invoke:n,resetUniqueId:o,uniqueId:p,rect2bnd:q,invertObject:r,namespaceToCamel:s,debounce:t,isValidUrl:u},Yc={head:v,last:w,initial:x,tail:y,prev:J,next:I,find:z,contains:B,all:A,sum:C,from:D,isEmpty:E,clusterBy:F,compact:G,unique:H},Zc=String.fromCharCode(160),$c="\ufeff",_c=M("PRE"),ad=M("LI"),bd=M("TABLE"),cd=M("DATA"),dd=M("HR"),ed=M("BLOCKQUOTE"),fd=M("A"),gd=M("BODY"),hd=Vc.isMSIE&&Vc.browserVersion<11?"&nbsp;":"<br>",id=M("TEXTAREA"),jd={/** @property {String} NBSP_CHAR */
NBSP_CHAR:Zc,/** @property {String} ZERO_WIDTH_NBSP_CHAR */
ZERO_WIDTH_NBSP_CHAR:$c,/** @property {String} blank */
blank:hd,/** @property {String} emptyPara */
emptyPara:"<p>".concat(hd,"</p>"),makePredByNodeName:M,isEditable:K,isControlSizing:L,isText:N,isElement:O,isVoid:P,isPara:Q,isPurePara:S,isHeading:R,isInline:T,isBlock:Xc.not(T),isBodyInline:Y,isBody:gd,isParaInline:X,isPre:_c,isList:U,isTable:bd,isData:cd,isCell:V,isBlockquote:ed,isBodyContainer:W,isAnchor:fd,isDiv:M("DIV"),isLi:ad,isBR:M("BR"),isSpan:M("SPAN"),isB:M("B"),isU:M("U"),isS:M("S"),isI:M("I"),isImg:M("IMG"),isTextarea:id,deepestChildIsEmpty:aa,isEmpty:ba,isEmptyAnchor:Xc.and(fd,ba),isClosestSibling:Z,withClosestSiblings:$,nodeLength:_,isLeftEdgePoint:oa,isRightEdgePoint:pa,isEdgePoint:qa,isLeftEdgeOf:ra,isRightEdgeOf:sa,isLeftEdgePointOf:ta,isRightEdgePointOf:ua,prevPoint:xa,nextPoint:ya,nextPointWithEmptyNode:za,isSamePoint:Ba,isVisiblePoint:Ca,prevPointUntil:Da,nextPointUntil:Ea,isCharPoint:Fa,isSpacePoint:Ga,walkPoint:Ha,ancestor:da,singleChildAncestor:ea,listAncestor:fa,lastAncestor:ga,listNext:ja,listPrev:ia,listDescendant:ka,commonAncestor:ha,wrap:la,insertAfter:ma,appendChildNodes:na,position:va,hasChildren:wa,makeOffsetPath:Ia,fromOffsetPath:Ja,splitTree:La,splitPoint:Ma,create:Na,createText:Oa,remove:Pa,removeWhile:Qa,replace:Ra,html:Ta,value:Sa,posFromPlaceholder:Ua,attachEvents:Va,detachEvents:Wa,isCustomStyleTag:Xa},kd=/*#__PURE__*/function(){/**
   * @param {jQuery} $note
   * @param {Object} options
   */
function a(b,c){Ya(this,a),this.$note=b,this.memos={},this.modules={},this.layoutInfo={},this.options=Lc.a.extend(!0,{},c),// init ui with options
Lc.a.summernote.ui=Lc.a.summernote.ui_template(this.options),this.ui=Lc.a.summernote.ui,this.initialize()}/**
   * create layout and initialize modules and other resources
   */
return $a(a,[{key:"initialize",value:function(){return this.layoutInfo=this.ui.createLayout(this.$note),this._initialize(),this.$note.hide(),this}},{key:"destroy",value:function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)}},{key:"reset",value:function(){var a=this.isDisabled();this.code(jd.emptyPara),this._destroy(),this._initialize(),a&&this.disable()}},{key:"_initialize",value:function(){var a=this;
// set own id
this.options.id=Xc.uniqueId(Lc.a.now()),// set default container for tooltips, popovers, and dialogs
this.options.container=this.options.container||this.layoutInfo.editor;// add optional buttons
var b=Lc.a.extend({},this.options.buttons);Object.keys(b).forEach(function(c){a.memo("button."+c,b[c])});var c=Lc.a.extend({},this.options.modules,Lc.a.summernote.plugins||{});// add and initialize modules
Object.keys(c).forEach(function(b){a.module(b,c[b],!0)}),Object.keys(this.modules).forEach(function(b){a.initializeModule(b)})}},{key:"_destroy",value:function(){var a=this;
// destroy modules with reversed order
Object.keys(this.modules).reverse().forEach(function(b){a.removeModule(b)}),Object.keys(this.memos).forEach(function(b){a.removeMemo(b)}),// trigger custom onDestroy callback
this.triggerEvent("destroy",this)}},{key:"code",value:function(a){var b=this.invoke("codeview.isActivated");return void 0===a?(this.invoke("codeview.sync"),b?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(b?this.invoke("codeview.sync",a):this.layoutInfo.editable.html(a),this.$note.val(a),this.triggerEvent("change",a,this.layoutInfo.editable),void 0)}},{key:"isDisabled",value:function(){return"false"===this.layoutInfo.editable.attr("contenteditable")}},{key:"enable",value:function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1),this.options.editing=!0}},{key:"disable",value:function(){
// close codeview if codeview is opend
this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.options.editing=!1,this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)}},{key:"triggerEvent",value:function(){var a=Yc.head(arguments),b=Yc.tail(Yc.from(arguments)),c=this.options.callbacks[Xc.namespaceToCamel(a,"on")];c&&c.apply(this.$note[0],b),this.$note.trigger("summernote."+a,b)}},{key:"initializeModule",value:function(a){var b=this.modules[a];b.shouldInitialize=b.shouldInitialize||Xc.ok,b.shouldInitialize()&&(// initialize module
b.initialize&&b.initialize(),// attach events
b.events&&jd.attachEvents(this.$note,b.events))}},{key:"module",value:function(a,b,c){return 1===arguments.length?this.modules[a]:(this.modules[a]=new b(this),void(c||this.initializeModule(a)))}},{key:"removeModule",value:function(a){var b=this.modules[a];b.shouldInitialize()&&(b.events&&jd.detachEvents(this.$note,b.events),b.destroy&&b.destroy()),delete this.modules[a]}},{key:"memo",value:function(a,b){return 1===arguments.length?this.memos[a]:void(this.memos[a]=b)}},{key:"removeMemo",value:function(a){this.memos[a]&&this.memos[a].destroy&&this.memos[a].destroy(),delete this.memos[a]}},{key:"createInvokeHandlerAndUpdateState",value:function(a,b){var c=this;return function(d){c.createInvokeHandler(a,b)(d),c.invoke("buttons.updateCurrentStyle")}}},{key:"createInvokeHandler",value:function(a,b){var c=this;return function(d){d.preventDefault();var e=Lc()(d.target);c.invoke(a,b||e.closest("[data-value]").data("value"),e)}}},{key:"invoke",value:function(){var a=Yc.head(arguments),b=Yc.tail(Yc.from(arguments)),c=a.split("."),d=c.length>1,e=d&&Yc.head(c),f=d?Yc.last(c):Yc.head(c),g=this.modules[e||"editor"];return!e&&this[f]?this[f].apply(this,b):g&&g[f]&&g.shouldInitialize()?g[f].apply(g,b):void 0}}]),a}();
// CONCATENATED MODULE: ./src/js/summernote.js
Lc.a.fn.extend({/**
   * Summernote API
   *
   * @param {Object|String}
   * @return {this}
   */
summernote:function(){var a=Lc.a.type(Yc.head(arguments)),b="string"===a,c="object"===a,d=Lc.a.extend({},Lc.a.summernote.options,c?Yc.head(arguments):{});// Update options
d.langInfo=Lc.a.extend(!0,{},Lc.a.summernote.lang["en-US"],Lc.a.summernote.lang[d.lang]),d.icons=Lc.a.extend(!0,{},Lc.a.summernote.options.icons,d.icons),d.tooltip="auto"===d.tooltip?!Vc.isSupportTouch:d.tooltip,this.each(function(a,b){var c=Lc()(b);if(!c.data("summernote")){var e=new kd(c,d);c.data("summernote",e),c.data("summernote").triggerEvent("init",e.layoutInfo)}});var e=this.first();if(e.length){var f=e.data("summernote");if(b)return f.invoke.apply(f,Yc.from(arguments));d.focus&&f.invoke("editor.focus")}return this}});/**
   * Wrapped Range
   *
   * @constructor
   * @param {Node} sc - start container
   * @param {Number} so - start offset
   * @param {Node} ec - end container
   * @param {Number} eo - end offset
   */
var ld=/*#__PURE__*/function(){function a(b,c,d,e){_a(this,a),this.sc=b,this.so=c,this.ec=d,this.eo=e,// isOnEditable: judge whether range is on editable or not
this.isOnEditable=this.makeIsOn(jd.isEditable),// isOnList: judge whether range is on list node or not
this.isOnList=this.makeIsOn(jd.isList),// isOnAnchor: judge whether range is on anchor node or not
this.isOnAnchor=this.makeIsOn(jd.isAnchor),// isOnCell: judge whether range is on cell node or not
this.isOnCell=this.makeIsOn(jd.isCell),// isOnData: judge whether range is on data node or not
this.isOnData=this.makeIsOn(jd.isData)}// nativeRange: get nativeRange from sc, so, ec, eo
return bb(a,[{key:"nativeRange",value:function(){if(Vc.isW3CRangeSupport){var a=document.createRange();return a.setStart(this.sc,this.so),a.setEnd(this.ec,this.eo),a}var b=db({node:this.sc,offset:this.so});return b.setEndPoint("EndToEnd",db({node:this.ec,offset:this.eo})),b}},{key:"getPoints",value:function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}}},{key:"getStartPoint",value:function(){return{node:this.sc,offset:this.so}}},{key:"getEndPoint",value:function(){return{node:this.ec,offset:this.eo}}},{key:"select",value:function(){var a=this.nativeRange();if(Vc.isW3CRangeSupport){var b=document.getSelection();b.rangeCount>0&&b.removeAllRanges(),b.addRange(a)}else a.select();return this}},{key:"scrollIntoView",value:function(a){var b=Lc()(a).height();return a.scrollTop+b<this.sc.offsetTop&&(a.scrollTop+=Math.abs(a.scrollTop+b-this.sc.offsetTop)),this}},{key:"normalize",value:function(){/**
       * @param {BoundaryPoint} point
       * @param {Boolean} isLeftToRight - true: prefer to choose right node
       *                                - false: prefer to choose left node
       * @return {BoundaryPoint}
       */
var b=function(a,b){if(!a)return a;// Just use the given point [XXX:Adhoc]
//  - case 01. if the point is on the middle of the node
//  - case 02. if the point is on the right edge and prefer to choose left node
//  - case 03. if the point is on the left edge and prefer to choose right node
//  - case 04. if the point is on the right edge and prefer to choose right node but the node is void
//  - case 05. if the point is on the left edge and prefer to choose left node but the node is void
//  - case 06. if the point is on the block node and there is no children
if(jd.isVisiblePoint(a)&&(!jd.isEdgePoint(a)||jd.isRightEdgePoint(a)&&!b||jd.isLeftEdgePoint(a)&&b||jd.isRightEdgePoint(a)&&b&&jd.isVoid(a.node.nextSibling)||jd.isLeftEdgePoint(a)&&!b&&jd.isVoid(a.node.previousSibling)||jd.isBlock(a.node)&&jd.isEmpty(a.node)))return a;// point on block's edge
var c=jd.ancestor(a.node,jd.isBlock),d=!1;if(!d){var e=jd.prevPoint(a)||{node:null};d=(jd.isLeftEdgePointOf(a,c)||jd.isVoid(e.node))&&!b}var f=!1;if(!f){var g=jd.nextPoint(a)||{node:null};f=(jd.isRightEdgePointOf(a,c)||jd.isVoid(g.node))&&b}if(d||f){
// returns point already on visible point
if(jd.isVisiblePoint(a))return a;// reverse direction
b=!b}var h=b?jd.nextPointUntil(jd.nextPoint(a),jd.isVisiblePoint):jd.prevPointUntil(jd.prevPoint(a),jd.isVisiblePoint);return h||a},c=b(this.getEndPoint(),!1),d=this.isCollapsed()?c:b(this.getStartPoint(),!0);return new a(d.node,d.offset,c.node,c.offset)}},{key:"nodes",value:function b(a,c){a=a||Xc.ok;var d=c&&c.includeAncestor,e=c&&c.fullyContains,f=this.getStartPoint(),g=this.getEndPoint(),b=[],h=[];return jd.walkPoint(f,g,function(c){if(!jd.isEditable(c.node)){var f;e?(jd.isLeftEdgePoint(c)&&h.push(c.node),jd.isRightEdgePoint(c)&&Yc.contains(h,c.node)&&(f=c.node)):f=d?jd.ancestor(c.node,a):c.node,f&&a(f)&&b.push(f)}},!0),Yc.unique(b)}},{key:"commonAncestor",value:function(){return jd.commonAncestor(this.sc,this.ec)}},{key:"expand",value:function(b){var c=jd.ancestor(this.sc,b),d=jd.ancestor(this.ec,b);if(!c&&!d)return new a(this.sc,this.so,this.ec,this.eo);var e=this.getPoints();return c&&(e.sc=c,e.so=0),d&&(e.ec=d,e.eo=jd.nodeLength(d)),new a(e.sc,e.so,e.ec,e.eo)}},{key:"collapse",value:function(b){return b?new a(this.sc,this.so,this.sc,this.so):new a(this.ec,this.eo,this.ec,this.eo)}},{key:"splitText",value:function(){var b=this.sc===this.ec,c=this.getPoints();return jd.isText(this.ec)&&!jd.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),jd.isText(this.sc)&&!jd.isEdgePoint(this.getStartPoint())&&(c.sc=this.sc.splitText(this.so),c.so=0,b&&(c.ec=c.sc,c.eo=this.eo-this.so)),new a(c.sc,c.so,c.ec,c.eo)}},{key:"deleteContents",value:function(){if(this.isCollapsed())return this;var b=this.splitText(),c=b.nodes(null,{fullyContains:!0}),d=jd.prevPointUntil(b.getStartPoint(),function(a){return!Yc.contains(c,a.node)}),e=[];// remove empty parents
return Lc.a.each(c,function(a,b){
// find empty parents
var c=b.parentNode;d.node!==c&&1===jd.nodeLength(c)&&e.push(c),jd.remove(b,!1)}),Lc.a.each(e,function(a,b){jd.remove(b,!1)}),new a(d.node,d.offset,d.node,d.offset).normalize()}},{key:"makeIsOn",value:function(a){return function(){var b=jd.ancestor(this.sc,a);return!!b&&b===jd.ancestor(this.ec,a)}}},{key:"isLeftEdgeOf",value:function(a){if(!jd.isLeftEdgePoint(this.getStartPoint()))return!1;var b=jd.ancestor(this.sc,a);return b&&jd.isLeftEdgeOf(this.sc,b)}},{key:"isCollapsed",value:function(){return this.sc===this.ec&&this.so===this.eo}},{key:"wrapBodyInlineWithPara",value:function(){if(jd.isBodyContainer(this.sc)&&jd.isEmpty(this.sc))return this.sc.innerHTML=jd.emptyPara,new a(this.sc.firstChild,0,this.sc.firstChild,0);/**
       * [workaround] firefox often create range on not visible point. so normalize here.
       *  - firefox: |<p>text</p>|
       *  - chrome: <p>|text|</p>
       */
var b=this.normalize();if(jd.isParaInline(this.sc)||jd.isPara(this.sc))return b;// find inline top ancestor
var c;if(jd.isInline(b.sc)){var d=jd.listAncestor(b.sc,Xc.not(jd.isInline));c=Yc.last(d),jd.isInline(c)||(c=d[d.length-2]||b.sc.childNodes[b.so])}else c=b.sc.childNodes[b.so>0?b.so-1:0];if(c){
// siblings not in paragraph
var e=jd.listPrev(c,jd.isParaInline).reverse();// wrap with paragraph
if(e=e.concat(jd.listNext(c.nextSibling,jd.isParaInline)),e.length){var f=jd.wrap(Yc.head(e),"p");jd.appendChildNodes(f,Yc.tail(e))}}return this.normalize()}},{key:"insertNode",value:function(a){var b=this;(jd.isText(a)||jd.isInline(a))&&(b=this.wrapBodyInlineWithPara().deleteContents());var c=jd.splitPoint(b.getStartPoint(),jd.isInline(a));return c.rightNode?(c.rightNode.parentNode.insertBefore(a,c.rightNode),jd.isEmpty(c.rightNode)&&jd.isPara(a)&&c.rightNode.parentNode.removeChild(c.rightNode)):c.container.appendChild(a),a}},{key:"pasteHTML",value:function(a){a=Lc.a.trim(a);var b=Lc()("<div></div>").html(a)[0],c=Yc.from(b.childNodes),d=this,e=!1;return d.so>=0&&(c=c.reverse(),e=!0),c=c.map(function(a){return d.insertNode(a)}),e&&(c=c.reverse()),c}},{key:"toString",value:function(){var a=this.nativeRange();return Vc.isW3CRangeSupport?a.toString():a.text}},{key:"getWordRange",value:function(b){var c=this.getEndPoint();if(!jd.isCharPoint(c))return this;var d=jd.prevPointUntil(c,function(a){return!jd.isCharPoint(a)});return b&&(c=jd.nextPointUntil(c,function(a){return!jd.isCharPoint(a)})),new a(d.node,d.offset,c.node,c.offset)}},{key:"getWordsRange",value:function(b){var c=this.getEndPoint(),d=function(a){return!jd.isCharPoint(a)&&!jd.isSpacePoint(a)};if(d(c))return this;var e=jd.prevPointUntil(c,d);return b&&(c=jd.nextPointUntil(c,d)),new a(e.node,e.offset,c.node,c.offset)}},{key:"getWordsMatchRange",value:function(b){var c=this.getEndPoint(),d=jd.prevPointUntil(c,function(d){if(!jd.isCharPoint(d)&&!jd.isSpacePoint(d))return!0;var e=new a(d.node,d.offset,c.node,c.offset),f=b.exec(e.toString());return f&&0===f.index}),e=new a(d.node,d.offset,c.node,c.offset),f=e.toString(),g=b.exec(f);return g&&g[0].length===f.length?e:null}},{key:"bookmark",value:function(a){return{s:{path:jd.makeOffsetPath(a,this.sc),offset:this.so},e:{path:jd.makeOffsetPath(a,this.ec),offset:this.eo}}}},{key:"paraBookmark",value:function(a){return{s:{path:Yc.tail(jd.makeOffsetPath(Yc.head(a),this.sc)),offset:this.so},e:{path:Yc.tail(jd.makeOffsetPath(Yc.last(a),this.ec)),offset:this.eo}}}},{key:"getClientRects",value:function(){var a=this.nativeRange();return a.getClientRects()}}]),a}(),md={/**
   * create Range Object From arguments or Browser Selection
   *
   * @param {Node} sc - start container
   * @param {Number} so - start offset
   * @param {Node} ec - end container
   * @param {Number} eo - end offset
   * @return {WrappedRange}
   */
create:function(a,b,c,d){if(4===arguments.length)return new ld(a,b,c,d);if(2===arguments.length)
// collapsed
return c=a,d=b,new ld(a,b,c,d);var e=this.createFromSelection();if(!e&&1===arguments.length){var f=arguments[0];return jd.isEditable(f)&&(f=f.lastChild),this.createFromBodyElement(f,jd.emptyPara===arguments[0].innerHTML)}return e},createFromBodyElement:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=this.createFromNode(a);return c.collapse(b)},createFromSelection:function(){var a,b,c,d;if(Vc.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(jd.isBody(e.anchorNode))
// Firefox: returns entire body as range on initialization.
// We won't never need it.
return null;var f=e.getRangeAt(0);a=f.startContainer,b=f.startOffset,c=f.endContainer,d=f.endOffset}else{
// IE8: TextRange
var g=document.selection.createRange(),h=g.duplicate();h.collapse(!1);var i=g;i.collapse(!0);var j=cb(i,!0),k=cb(h,!1);// same visible point case: range was collapsed.
jd.isText(j.node)&&jd.isLeftEdgePoint(j)&&jd.isTextNode(k.node)&&jd.isRightEdgePoint(k)&&k.node.nextSibling===j.node&&(j=k),a=j.cont,b=j.offset,c=k.cont,d=k.offset}return new ld(a,b,c,d)},/**
   * @method
   *
   * create WrappedRange from node
   *
   * @param {Node} node
   * @return {WrappedRange}
   */
createFromNode:function(a){var b=a,c=0,d=a,e=jd.nodeLength(d);// browsers can't target a picture or void node
return jd.isVoid(b)&&(c=jd.listPrev(b).length-1,b=b.parentNode),jd.isBR(d)?(e=jd.listPrev(d).length-1,d=d.parentNode):jd.isVoid(d)&&(e=jd.listPrev(d).length,d=d.parentNode),this.create(b,c,d,e)},/**
   * create WrappedRange from node after position
   *
   * @param {Node} node
   * @return {WrappedRange}
   */
createFromNodeBefore:function(a){return this.createFromNode(a).collapse(!0)},/**
   * create WrappedRange from node after position
   *
   * @param {Node} node
   * @return {WrappedRange}
   */
createFromNodeAfter:function(a){return this.createFromNode(a).collapse()},/**
   * @method
   *
   * create WrappedRange from bookmark
   *
   * @param {Node} editable
   * @param {Object} bookmark
   * @return {WrappedRange}
   */
createFromBookmark:function(a,b){var c=jd.fromOffsetPath(a,b.s.path),d=b.s.offset,e=jd.fromOffsetPath(a,b.e.path),f=b.e.offset;return new ld(c,d,e,f)},/**
   * @method
   *
   * create WrappedRange from paraBookmark
   *
   * @param {Object} bookmark
   * @param {Node[]} paras
   * @return {WrappedRange}
   */
createFromParaBookmark:function(a,b){var c=a.s.offset,d=a.e.offset,e=jd.fromOffsetPath(Yc.head(b),a.s.path),f=jd.fromOffsetPath(Yc.last(b),a.e.path);return new ld(e,c,f,d)}},nd={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,
// Arrow
LEFT:37,UP:38,RIGHT:39,DOWN:40,
// Number: 0-9
NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,
// Alphabet: a-z
B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221,
// Navigation
HOME:36,END:35,PAGEUP:33,PAGEDOWN:34},od={/**
   * @method isEdit
   *
   * @param {Number} keyCode
   * @return {Boolean}
   */
isEdit:function(a){return Yc.contains([nd.BACKSPACE,nd.TAB,nd.ENTER,nd.SPACE,nd.DELETE],a)},/**
   * @method isMove
   *
   * @param {Number} keyCode
   * @return {Boolean}
   */
isMove:function(a){return Yc.contains([nd.LEFT,nd.UP,nd.RIGHT,nd.DOWN],a)},/**
   * @method isNavigation
   *
   * @param {Number} keyCode
   * @return {Boolean}
   */
isNavigation:function(a){return Yc.contains([nd.HOME,nd.END,nd.PAGEUP,nd.PAGEDOWN],a)},/**
   * @property {Object} nameFromCode
   * @property {String} nameFromCode.8 "BACKSPACE"
   */
nameFromCode:Xc.invertObject(nd),code:nd},pd=/*#__PURE__*/function(){function a(b){gb(this,a),this.stack=[],this.stackOffset=-1,this.context=b,this.$editable=b.layoutInfo.editable,this.editable=this.$editable[0]}return ib(a,[{key:"makeSnapshot",value:function(){var a=md.create(this.editable),b={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:this.$editable.html(),bookmark:a&&a.isOnEditable()?a.bookmark(this.editable):b}}},{key:"applySnapshot",value:function(a){null!==a.contents&&this.$editable.html(a.contents),null!==a.bookmark&&md.createFromBookmark(this.editable,a.bookmark).select()}},{key:"rewind",value:function(){
// Create snap shot if not yet recorded
this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),// Return to the first available snapshot.
this.stackOffset=0,// Apply that snapshot.
this.applySnapshot(this.stack[this.stackOffset])}},{key:"commit",value:function(){
// Clear the stack.
this.stack=[],// Restore stackOffset to its original value.
this.stackOffset=-1,// Record our first snapshot (of nothing).
this.recordUndo()}},{key:"reset",value:function(){
// Clear the stack.
this.stack=[],// Restore stackOffset to its original value.
this.stackOffset=-1,// Clear the editable area.
this.$editable.html(""),// Record our first snapshot (of nothing).
this.recordUndo()}},{key:"undo",value:function(){
// Create snap shot if not yet recorded
this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"redo",value:function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"recordUndo",value:function(){this.stackOffset++,// Wash out stack after stackOffset
this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),// Create new snapshot and push it to the end
this.stack.push(this.makeSnapshot()),// If the stack size reachs to the limit, then slice it
this.stack.length>this.context.options.historyLimit&&(this.stack.shift(),this.stackOffset-=1)}}]),a}(),qd=/*#__PURE__*/function(){function a(){jb(this,a)}return lb(a,[{key:"jQueryCSS",/**
     * @method jQueryCSS
     *
     * [workaround] for old jQuery
     * passing an array of style properties to .css()
     * will result in an object of property-value pairs.
     * (compability with version < 1.9)
     *
     * @private
     * @param  {jQuery} $obj
     * @param  {Array} propertyNames - An array of one or more CSS properties.
     * @return {Object}
     */
value:function(a,b){if(Vc.jqueryVersion<1.9){var c={};return Lc.a.each(b,function(b,d){c[d]=a.css(d)}),c}return a.css(b)}},{key:"fromNode",value:function(a){var b=["font-family","font-size","text-align","list-style-type","line-height"],c=this.jQueryCSS(a,b)||{},d=a[0].style.fontSize||c["font-size"];return c["font-size"]=parseInt(d,10),c["font-size-unit"]=d.match(/[a-z%]+$/),c}},{key:"stylePara",value:function(a,b){Lc.a.each(a.nodes(jd.isPara,{includeAncestor:!0}),function(a,c){Lc()(c).css(b)})}},{key:"styleNodes",value:function(a,b){a=a.splitText();var c=b&&b.nodeName||"SPAN",d=!(!b||!b.expandClosestSibling),e=!(!b||!b.onlyPartialContains);if(a.isCollapsed())return[a.insertNode(jd.create(c))];var f=jd.makePredByNodeName(c),g=a.nodes(jd.isText,{fullyContains:!0}).map(function(a){return jd.singleChildAncestor(a,f)||jd.wrap(a,c)});if(d){if(e){var h=a.nodes();// compose with partial contains predication
f=Xc.and(f,function(a){return Yc.contains(h,a)})}return g.map(function(a){var b=jd.withClosestSiblings(a,f),c=Yc.head(b),d=Yc.tail(b);return Lc.a.each(d,function(a,b){jd.appendChildNodes(c,b.childNodes),jd.remove(b)}),Yc.head(b)})}return g}},{key:"current",value:function(a){var b=Lc()(jd.isElement(a.sc)?a.sc:a.sc.parentNode),c=this.fromNode(b);// document.queryCommandState for toggle state
// [workaround] prevent Firefox nsresult: "0x80004005 (NS_ERROR_FAILURE)"
try{c=Lc.a.extend(c,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||c["font-family"]})}catch(d){}// eslint-disable-next-line
// list-style-type to list-style(unordered, ordered)
if(a.isOnList()){var e=["circle","disc","disc-leading-zero","square"],f=e.indexOf(c["list-style-type"])>-1;c["list-style"]=f?"unordered":"ordered"}else c["list-style"]="none";var g=jd.ancestor(a.sc,jd.isPara);if(g&&g.style["line-height"])c["line-height"]=g.style.lineHeight;else{var h=parseInt(c["line-height"],10)/parseInt(c["font-size"],10);c["line-height"]=h.toFixed(1)}return c.anchor=a.isOnAnchor()&&jd.ancestor(a.sc,jd.isAnchor),c.ancestors=jd.listAncestor(a.sc,jd.isEditable),c.range=a,c}}]),a}(),rd=/*#__PURE__*/function(){function a(){mb(this,a)}return ob(a,[{key:"insertOrderedList",/**
     * toggle ordered list
     */
value:function(a){this.toggleList("OL",a)}},{key:"insertUnorderedList",value:function(a){this.toggleList("UL",a)}},{key:"indent",value:function(a){var b=this,c=md.create(a).wrapBodyInlineWithPara(),d=c.nodes(jd.isPara,{includeAncestor:!0}),e=Yc.clusterBy(d,Xc.peq2("parentNode"));Lc.a.each(e,function(a,c){var d=Yc.head(c);if(jd.isLi(d)){var e=b.findList(d.previousSibling);e?c.map(function(a){return e.appendChild(a)}):(b.wrapList(c,d.parentNode.nodeName),c.map(function(a){return a.parentNode}).map(function(a){return b.appendToPrevious(a)}))}else Lc.a.each(c,function(a,b){Lc()(b).css("marginLeft",function(a,b){return(parseInt(b,10)||0)+25})})}),c.select()}},{key:"outdent",value:function(a){var b=this,c=md.create(a).wrapBodyInlineWithPara(),d=c.nodes(jd.isPara,{includeAncestor:!0}),e=Yc.clusterBy(d,Xc.peq2("parentNode"));Lc.a.each(e,function(a,c){var d=Yc.head(c);jd.isLi(d)?b.releaseList([c]):Lc.a.each(c,function(a,b){Lc()(b).css("marginLeft",function(a,b){return b=parseInt(b,10)||0,b>25?b-25:""})})}),c.select()}},{key:"toggleList",value:function(a,b){var c=this,d=md.create(b).wrapBodyInlineWithPara(),e=d.nodes(jd.isPara,{includeAncestor:!0}),f=d.paraBookmark(e),g=Yc.clusterBy(e,Xc.peq2("parentNode"));// paragraph to list
if(Yc.find(e,jd.isPurePara)){var h=[];Lc.a.each(g,function(b,d){h=h.concat(c.wrapList(d,a))}),e=h}else{var i=d.nodes(jd.isList,{includeAncestor:!0}).filter(function(b){return!Lc.a.nodeName(b,a)});i.length?Lc.a.each(i,function(b,c){jd.replace(c,a)}):e=this.releaseList(g,!0)}md.createFromParaBookmark(f,e).select()}},{key:"wrapList",value:function(a,b){var c=Yc.head(a),d=Yc.last(a),e=jd.isList(c.previousSibling)&&c.previousSibling,f=jd.isList(d.nextSibling)&&d.nextSibling,g=e||jd.insertAfter(jd.create(b||"UL"),d);// P to LI
// append to list(<ul>, <ol>)
return a=a.map(function(a){return jd.isPurePara(a)?jd.replace(a,"LI"):a}),jd.appendChildNodes(g,a),f&&(jd.appendChildNodes(g,Yc.from(f.childNodes)),jd.remove(f)),a}},{key:"releaseList",value:function(a,b){var c=this,d=[];return Lc.a.each(a,function(a,e){var f=Yc.head(e),g=Yc.last(e),h=b?jd.lastAncestor(f,jd.isList):f.parentNode,i=h.parentNode;if("LI"===h.parentNode.nodeName)e.map(function(a){var b=c.findNextSiblings(a);i.nextSibling?i.parentNode.insertBefore(a,i.nextSibling):i.parentNode.appendChild(a),b.length&&(c.wrapList(b,h.nodeName),a.appendChild(b[0].parentNode))}),0===h.children.length&&i.removeChild(h),0===i.childNodes.length&&i.parentNode.removeChild(i);else{var j=h.childNodes.length>1?jd.splitTree(h,{node:g.parentNode,offset:jd.position(g)+1},{isSkipPaddingBlankHTML:!0}):null,k=jd.splitTree(h,{node:f.parentNode,offset:jd.position(f)},{isSkipPaddingBlankHTML:!0});e=b?jd.listDescendant(k,jd.isLi):Yc.from(k.childNodes).filter(jd.isLi),// LI to P
!b&&jd.isList(h.parentNode)||(e=e.map(function(a){return jd.replace(a,"P")})),Lc.a.each(Yc.from(e).reverse(),function(a,b){jd.insertAfter(b,h)});// remove empty lists
var l=Yc.compact([h,k,j]);Lc.a.each(l,function(a,b){var c=[b].concat(jd.listDescendant(b,jd.isList));Lc.a.each(c.reverse(),function(a,b){jd.nodeLength(b)||jd.remove(b,!0)})})}d=d.concat(e)}),d}},{key:"appendToPrevious",value:function(a){return a.previousSibling?jd.appendChildNodes(a.previousSibling,[a]):this.wrapList([a],"LI")}},{key:"findList",value:function(a){return a?Yc.find(a.children,function(a){return["OL","UL"].indexOf(a.nodeName)>-1}):null}},{key:"findNextSiblings",value:function(a){for(var b=[];a.nextSibling;)b.push(a.nextSibling),a=a.nextSibling;return b}}]),a}(),sd=/*#__PURE__*/function(){function a(b){pb(this,a),
// a Bullet instance to toggle lists off
this.bullet=new rd,this.options=b.options}/**
   * insert tab
   *
   * @param {WrappedRange} rng
   * @param {Number} tabsize
   */
return rb(a,[{key:"insertTab",value:function(a,b){var c=jd.createText(new Array(b+1).join(jd.NBSP_CHAR));a=a.deleteContents(),a.insertNode(c,!0),a=md.create(c,b),a.select()}},{key:"insertParagraph",value:function(a,b){b=b||md.create(a),// deleteContents on range.
b=b.deleteContents(),// Wrap range if it needs to be wrapped by paragraph
b=b.wrapBodyInlineWithPara();// finding paragraph
var c,d=jd.ancestor(b.sc,jd.isPara);// on paragraph: split paragraph
if(d){
// if it is an empty line with li
if(jd.isLi(d)&&(jd.isEmpty(d)||jd.deepestChildIsEmpty(d)))
// toggle UL/OL and escape
return void this.bullet.toggleList(d.parentNode.nodeName);var e=null;if(1===this.options.blockquoteBreakingLevel?e=jd.ancestor(d,jd.isBlockquote):2===this.options.blockquoteBreakingLevel&&(e=jd.lastAncestor(d,jd.isBlockquote)),e){
// We're inside a blockquote and options ask us to break it
c=Lc()(jd.emptyPara)[0],// If the split is right before a <br>, remove it so that there's no "empty line"
// after the split in the new blockquote created
jd.isRightEdgePoint(b.getStartPoint())&&jd.isBR(b.sc.nextSibling)&&Lc()(b.sc.nextSibling).remove();var f=jd.splitTree(e,b.getStartPoint(),{isDiscardEmptySplits:!0});f?f.parentNode.insertBefore(c,f):jd.insertAfter(c,e)}else{c=jd.splitTree(d,b.getStartPoint());// not a blockquote, just insert the paragraph
var g=jd.listDescendant(d,jd.isEmptyAnchor);g=g.concat(jd.listDescendant(c,jd.isEmptyAnchor)),Lc.a.each(g,function(a,b){jd.remove(b)}),// replace empty heading, pre or custom-made styleTag with P tag
(jd.isHeading(c)||jd.isPre(c)||jd.isCustomStyleTag(c))&&jd.isEmpty(c)&&(c=jd.replace(c,"p"))}}else{var h=b.sc.childNodes[b.so];c=Lc()(jd.emptyPara)[0],h?b.sc.insertBefore(c,h):b.sc.appendChild(c)}md.create(c,0).normalize().select().scrollIntoView(a)}}]),a}(),td=function Yd(a,b,c,d){/// ///////////////////////////////////////////
// Private functions
/// ///////////////////////////////////////////
/**
   * Set the startPoint of action.
   */
function e(){a&&a.tagName&&("td"===a.tagName.toLowerCase()||"th"===a.tagName.toLowerCase())&&(o.colPos=a.cellIndex,a.parentElement&&a.parentElement.tagName&&"tr"===a.parentElement.tagName.toLowerCase()&&(o.rowPos=a.parentElement.rowIndex))}/**
   * Define virtual table position info object.
   *
   * @param {int} rowIndex Index position in line of virtual table.
   * @param {int} cellIndex Index position in column of virtual table.
   * @param {object} baseRow Row affected by this position.
   * @param {object} baseCell Cell affected by this position.
   * @param {bool} isSpan Inform if it is an span cell/row.
   */
function f(a,b,c,d,e,f,g){var h={baseRow:c,baseCell:d,isRowSpan:e,isColSpan:f,isVirtual:g};p[a]||(p[a]=[]),p[a][b]=h}/**
   * Create action cell object.
   *
   * @param {object} virtualTableCellObj Object of specific position on virtual table.
   * @param {enum} resultAction Action to be applied in that item.
   */
function g(a,b,c,d){return{baseCell:a.baseCell,action:b,virtualTable:{rowIndex:c,cellIndex:d}}}/**
   * Recover free index of row to append Cell.
   *
   * @param {int} rowIndex Index of row to find free space.
   * @param {int} cellIndex Index of cell to find free space in table.
   */
function h(a,b){if(!p[a])return b;if(!p[a][b])return b;for(var c=b;p[a][c];)if(c++,!p[a][c])return c}/**
   * Recover info about row and cell and add information to virtual table.
   *
   * @param {object} row Row to recover information.
   * @param {object} cell Cell to recover information.
   */
function i(a,b){var c=h(a.rowIndex,b.cellIndex),d=b.colSpan>1,e=b.rowSpan>1,g=a.rowIndex===o.rowPos&&b.cellIndex===o.colPos;f(a.rowIndex,c,a,b,e,d,!1);// Add span rows to virtual Table.
var i=b.attributes.rowSpan?parseInt(b.attributes.rowSpan.value,10):0;if(i>1)for(var k=1;k<i;k++){var l=a.rowIndex+k;j(l,c,b,g),f(l,c,a,b,!0,d,!0)}// Add span cols to virtual table.
var m=b.attributes.colSpan?parseInt(b.attributes.colSpan.value,10):0;if(m>1)for(var n=1;n<m;n++){var p=h(a.rowIndex,c+n);j(a.rowIndex,p,b,g),f(a.rowIndex,p,a,b,e,!0,!0)}}/**
   * Process validation and adjust of start point if needed
   *
   * @param {int} rowIndex
   * @param {int} cellIndex
   * @param {object} cell
   * @param {bool} isSelectedCell
   */
function j(a,b,c,d){a===o.rowPos&&o.colPos>=c.cellIndex&&c.cellIndex<=b&&!d&&o.colPos++}/**
   * Create virtual table of cells with all cells, including span cells.
   */
function k(){for(var a=d.rows,b=0;b<a.length;b++)for(var c=a[b].cells,e=0;e<c.length;e++)i(a[b],c[e])}/**
   * Get action to be applied on the cell.
   *
   * @param {object} cell virtual table cell to apply action
   */
function l(a){switch(b){case Yd.where.Column:if(a.isColSpan)return Yd.resultAction.SubtractSpanCount;break;case Yd.where.Row:if(!a.isVirtual&&a.isRowSpan)return Yd.resultAction.AddCell;if(a.isRowSpan)return Yd.resultAction.SubtractSpanCount}return Yd.resultAction.RemoveCell}/**
   * Get action to be applied on the cell.
   *
   * @param {object} cell virtual table cell to apply action
   */
function m(a){switch(b){case Yd.where.Column:if(a.isColSpan)return Yd.resultAction.SumSpanCount;if(a.isRowSpan&&a.isVirtual)return Yd.resultAction.Ignore;break;case Yd.where.Row:if(a.isRowSpan)return Yd.resultAction.SumSpanCount;if(a.isColSpan&&a.isVirtual)return Yd.resultAction.Ignore}return Yd.resultAction.AddCell}function n(){e(),k()}var o={colPos:0,rowPos:0},p=[],q=[];/// ///////////////////////////////////////////
// Public functions
/// ///////////////////////////////////////////
/**
   * Recover array os what to do in table.
   */
this.getActionList=function(){for(var a=b===Yd.where.Row?o.rowPos:-1,d=b===Yd.where.Column?o.colPos:-1,e=0,f=!0;f;){var h=a>=0?a:e,i=d>=0?d:e,j=p[h];if(!j)return f=!1,q;var k=j[i];if(!k)return f=!1,q;// Define action to be applied in this cell
var n=Yd.resultAction.Ignore;switch(c){case Yd.requestAction.Add:n=m(k);break;case Yd.requestAction.Delete:n=l(k)}q.push(g(k,n,h,i)),e++}return q},n()};/**
*
* Where action occours enum.
*/
td.where={Row:0,Column:1},/**
*
* Requested action to apply enum.
*/
td.requestAction={Add:0,Delete:1},/**
*
* Result action to be executed enum.
*/
td.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};/**
 *
 * @class editing.Table
 *
 * Table
 *
 */
var ud=/*#__PURE__*/function(){function a(){sb(this,a)}return ub(a,[{key:"tab",/**
     * handle tab key
     *
     * @param {WrappedRange} rng
     * @param {Boolean} isShift
     */
value:function(a,b){var c=jd.ancestor(a.commonAncestor(),jd.isCell),d=jd.ancestor(c,jd.isTable),e=jd.listDescendant(d,jd.isCell),f=Yc[b?"prev":"next"](e,c);f&&md.create(f,0).select()}},{key:"addRow",value:function(a,b){for(var c=jd.ancestor(a.commonAncestor(),jd.isCell),d=Lc()(c).closest("tr"),e=this.recoverAttributes(d),f=Lc()("<tr"+e+"></tr>"),g=new td(c,td.where.Row,td.requestAction.Add,Lc()(d).closest("table")[0]),h=g.getActionList(),i=0;i<h.length;i++){var j=h[i],k=this.recoverAttributes(j.baseCell);switch(j.action){case td.resultAction.AddCell:f.append("<td"+k+">"+jd.blank+"</td>");break;case td.resultAction.SumSpanCount:if("top"===b){var l=j.baseCell.parent,m=(l?j.baseCell.closest("tr").rowIndex:0)<=d[0].rowIndex;if(m){var n=Lc()("<div></div>").append(Lc()("<td"+k+">"+jd.blank+"</td>").removeAttr("rowspan")).html();f.append(n);break}}var o=parseInt(j.baseCell.rowSpan,10);o++,j.baseCell.setAttribute("rowSpan",o)}}if("top"===b)d.before(f);else{var p=c.rowSpan>1;if(p){var q=d[0].rowIndex+(c.rowSpan-2);return void Lc()(Lc()(d).parent().find("tr")[q]).after(Lc()(f))}d.after(f)}}},{key:"addCol",value:function(a,b){var c=jd.ancestor(a.commonAncestor(),jd.isCell),d=Lc()(c).closest("tr"),e=Lc()(d).siblings();e.push(d);for(var f=new td(c,td.where.Column,td.requestAction.Add,Lc()(d).closest("table")[0]),g=f.getActionList(),h=0;h<g.length;h++){var i=g[h],j=this.recoverAttributes(i.baseCell);switch(i.action){case td.resultAction.AddCell:"right"===b?Lc()(i.baseCell).after("<td"+j+">"+jd.blank+"</td>"):Lc()(i.baseCell).before("<td"+j+">"+jd.blank+"</td>");break;case td.resultAction.SumSpanCount:if("right"===b){var k=parseInt(i.baseCell.colSpan,10);k++,i.baseCell.setAttribute("colSpan",k)}else Lc()(i.baseCell).before("<td"+j+">"+jd.blank+"</td>")}}}},{key:"recoverAttributes",value:function(a){var b="";if(!a)return b;for(var c=a.attributes||[],d=0;d<c.length;d++)"id"!==c[d].name.toLowerCase()&&c[d].specified&&(b+=" "+c[d].name+"='"+c[d].value+"'");return b}},{key:"deleteRow",value:function(a){for(var b=jd.ancestor(a.commonAncestor(),jd.isCell),c=Lc()(b).closest("tr"),d=c.children("td, th").index(Lc()(b)),e=c[0].rowIndex,f=new td(b,td.where.Row,td.requestAction.Delete,Lc()(c).closest("table")[0]),g=f.getActionList(),h=0;h<g.length;h++)if(g[h]){var i=g[h].baseCell,j=g[h].virtualTable,k=i.rowSpan&&i.rowSpan>1,l=k?parseInt(i.rowSpan,10):0;switch(g[h].action){case td.resultAction.Ignore:continue;case td.resultAction.AddCell:var m=c.next("tr")[0];if(!m)continue;var n=c[0].cells[d];k&&(l>2?(l--,m.insertBefore(n,m.cells[d]),m.cells[d].setAttribute("rowSpan",l),m.cells[d].innerHTML=""):2===l&&(m.insertBefore(n,m.cells[d]),m.cells[d].removeAttribute("rowSpan"),m.cells[d].innerHTML=""));continue;case td.resultAction.SubtractSpanCount:k&&(l>2?(l--,i.setAttribute("rowSpan",l),j.rowIndex!==e&&i.cellIndex===d&&(i.innerHTML="")):2===l&&(i.removeAttribute("rowSpan"),j.rowIndex!==e&&i.cellIndex===d&&(i.innerHTML="")));continue;case td.resultAction.RemoveCell:
// Do not need remove cell because row will be deleted.
continue}}c.remove()}},{key:"deleteCol",value:function(a){for(var b=jd.ancestor(a.commonAncestor(),jd.isCell),c=Lc()(b).closest("tr"),d=c.children("td, th").index(Lc()(b)),e=new td(b,td.where.Column,td.requestAction.Delete,Lc()(c).closest("table")[0]),f=e.getActionList(),g=0;g<f.length;g++)if(f[g])switch(f[g].action){case td.resultAction.Ignore:continue;case td.resultAction.SubtractSpanCount:var h=f[g].baseCell,i=h.colSpan&&h.colSpan>1;if(i){var j=h.colSpan?parseInt(h.colSpan,10):0;j>2?(j--,h.setAttribute("colSpan",j),h.cellIndex===d&&(h.innerHTML="")):2===j&&(h.removeAttribute("colSpan"),h.cellIndex===d&&(h.innerHTML=""))}continue;case td.resultAction.RemoveCell:jd.remove(f[g].baseCell,!0);continue}}},{key:"createTable",value:function(a,b,c){for(var d,e=[],f=0;f<a;f++)e.push("<td>"+jd.blank+"</td>");d=e.join("");for(var g,h=[],i=0;i<b;i++)h.push("<tr>"+d+"</tr>");g=h.join("");var j=Lc()("<table>"+g+"</table>");return c&&c.tableClassName&&j.addClass(c.tableClassName),j[0]}},{key:"deleteTable",value:function(a){var b=jd.ancestor(a.commonAncestor(),jd.isCell);Lc()(b).closest("table").remove()}}]),a}(),vd="bogus",wd=/*#__PURE__*/function(){function a(b){var c=this;vb(this,a),this.context=b,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.snapshot=null,this.style=new qd,this.table=new ud,this.typing=new sd(b),this.bullet=new rd,this.history=new pd(b),this.context.memo("help.escape",this.lang.help.escape),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var d=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],e=0,f=d.length;e<f;e++)this[d[e]]=function(a){return function(b){c.beforeCommand(),document.execCommand(a,!1,b),c.afterCommand(!0)}}(d[e]),this.context.memo("help."+d[e],this.lang.help[d[e]]);this.fontName=this.wrapCommand(function(a){return c.fontStyling("font-family",Vc.validFontName(a))}),this.fontSize=this.wrapCommand(function(a){var b=c.currentStyle()["font-size-unit"];return c.fontStyling("font-size",a+b)}),this.fontSizeUnit=this.wrapCommand(function(a){var b=c.currentStyle()["font-size"];return c.fontStyling("font-size",b+a)});for(var g=1;g<=6;g++)this["formatH"+g]=function(a){return function(){c.formatBlock("H"+a)}}(g),this.context.memo("help.formatH"+g,this.lang.help["formatH"+g]);this.insertParagraph=this.wrapCommand(function(){c.typing.insertParagraph(c.editable)}),this.insertOrderedList=this.wrapCommand(function(){c.bullet.insertOrderedList(c.editable)}),this.insertUnorderedList=this.wrapCommand(function(){c.bullet.insertUnorderedList(c.editable)}),this.indent=this.wrapCommand(function(){c.bullet.indent(c.editable)}),this.outdent=this.wrapCommand(function(){c.bullet.outdent(c.editable)}),/**
     * insertNode
     * insert node
     * @param {Node} node
     */
this.insertNode=this.wrapCommand(function(a){if(!c.isLimited(Lc()(a).text().length)){var b=c.getLastRange();b.insertNode(a),c.setLastRange(md.createFromNodeAfter(a).select())}}),/**
     * insert text
     * @param {String} text
     */
this.insertText=this.wrapCommand(function(a){if(!c.isLimited(a.length)){var b=c.getLastRange(),d=b.insertNode(jd.createText(a));c.setLastRange(md.create(d,jd.nodeLength(d)).select())}}),/**
     * paste HTML
     * @param {String} markup
     */
this.pasteHTML=this.wrapCommand(function(a){if(!c.isLimited(a.length)){a=c.context.invoke("codeview.purify",a);var b=c.getLastRange().pasteHTML(a);c.setLastRange(md.createFromNodeAfter(Yc.last(b)).select())}}),/**
     * formatBlock
     *
     * @param {String} tagName
     */
this.formatBlock=this.wrapCommand(function(a,b){var d=c.options.callbacks.onApplyCustomStyle;d?d.call(c,b,c.context,c.onFormatBlock):c.onFormatBlock(a,b)}),/**
     * insert horizontal rule
     */
this.insertHorizontalRule=this.wrapCommand(function(){var a=c.getLastRange().insertNode(jd.create("HR"));a.nextSibling&&c.setLastRange(md.create(a.nextSibling,0).normalize().select())}),/**
     * lineHeight
     * @param {String} value
     */
this.lineHeight=this.wrapCommand(function(a){c.style.stylePara(c.getLastRange(),{lineHeight:a})}),/**
     * create link (command)
     *
     * @param {Object} linkInfo
     */
this.createLink=this.wrapCommand(function(a){var b=a.url,d=a.text,e=a.isNewWindow,f=a.checkProtocol,g=a.range||c.getLastRange(),h=d.length-g.toString().length;if(!(h>0&&c.isLimited(h))){var i=g.toString()!==d;// handle spaced urls from input
"string"==typeof b&&(b=b.trim()),c.options.onCreateLink?b=c.options.onCreateLink(b):f&&(
// if url doesn't have any protocol and not even a relative or a label, use http:// as default
b=/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(b)?b:c.options.defaultProtocol+b);var j=[];if(i){g=g.deleteContents();var k=g.insertNode(Lc()("<A>"+d+"</A>")[0]);j.push(k)}else j=c.style.styleNodes(g,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});Lc.a.each(j,function(a,c){Lc()(c).attr("href",b),e?Lc()(c).attr("target","_blank"):Lc()(c).removeAttr("target")}),c.setLastRange(c.createRangeFromList(j).select())}}),/**
     * setting color
     *
     * @param {Object} sObjColor  color code
     * @param {String} sObjColor.foreColor foreground color
     * @param {String} sObjColor.backColor background color
     */
this.color=this.wrapCommand(function(a){var b=a.foreColor,c=a.backColor;b&&document.execCommand("foreColor",!1,b),c&&document.execCommand("backColor",!1,c)}),/**
     * Set foreground color
     *
     * @param {String} colorCode foreground color code
     */
this.foreColor=this.wrapCommand(function(a){document.execCommand("foreColor",!1,a)}),/**
     * insert Table
     *
     * @param {String} dimension of table (ex : "5x5")
     */
this.insertTable=this.wrapCommand(function(a){var b=a.split("x"),d=c.getLastRange().deleteContents();d.insertNode(c.table.createTable(b[0],b[1],c.options))}),/**
     * remove media object and Figure Elements if media object is img with Figure.
     */
this.removeMedia=this.wrapCommand(function(){var a=Lc()(c.restoreTarget()).parent();a.closest("figure").length?a.closest("figure").remove():a=Lc()(c.restoreTarget()).detach(),c.context.triggerEvent("media.delete",a,c.$editable)}),/**
     * float me
     *
     * @param {String} value
     */
this.floatMe=this.wrapCommand(function(a){var b=Lc()(c.restoreTarget());b.toggleClass("note-float-left","left"===a),b.toggleClass("note-float-right","right"===a),b.css("float","none"===a?"":a)}),/**
     * resize overlay element
     * @param {String} value
     */
this.resize=this.wrapCommand(function(a){var b=Lc()(c.restoreTarget());a=parseFloat(a),0===a?b.css("width",""):b.css({width:100*a+"%",height:""})})}return xb(a,[{key:"initialize",value:function(){var a=this;
// bind custom events
this.$editable.on("keydown",function(b){if(b.keyCode===od.code.ENTER&&a.context.triggerEvent("enter",b),a.context.triggerEvent("keydown",b),// keep a snapshot to limit text on input event
a.snapshot=a.history.makeSnapshot(),a.hasKeyShortCut=!1,b.isDefaultPrevented()||(a.options.shortcuts?a.hasKeyShortCut=a.handleKeyMap(b):a.preventDefaultEditableShortCuts(b)),a.isLimited(1,b)){var c=a.getLastRange();if(c.eo-c.so===0)return!1}a.setLastRange(),// record undo in the key event except keyMap.
a.options.recordEveryKeystroke&&a.hasKeyShortCut===!1&&a.history.recordUndo()}).on("keyup",function(b){a.setLastRange(),a.context.triggerEvent("keyup",b)}).on("focus",function(b){a.setLastRange(),a.context.triggerEvent("focus",b)}).on("blur",function(b){a.context.triggerEvent("blur",b)}).on("mousedown",function(b){a.context.triggerEvent("mousedown",b)}).on("mouseup",function(b){a.setLastRange(),a.history.recordUndo(),a.context.triggerEvent("mouseup",b)}).on("scroll",function(b){a.context.triggerEvent("scroll",b)}).on("paste",function(b){a.setLastRange(),a.context.triggerEvent("paste",b)}).on("input",function(){
// To limit composition characters (e.g. Korean)
a.isLimited(0)&&a.snapshot&&a.history.applySnapshot(a.snapshot)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.attr("autocorrect",this.options.spellCheck),this.options.disableGrammar&&this.$editable.attr("data-gramm",!1),// init content before set event
this.$editable.html(jd.html(this.$note)||jd.emptyPara),this.$editable.on(Vc.inputEventName,Xc.debounce(function(){a.context.triggerEvent("change",a.$editable.html(),a.$editable)},10)),this.$editable.on("focusin",function(b){a.context.triggerEvent("focusin",b)}).on("focusout",function(b){a.context.triggerEvent("focusout",b)}),this.options.airMode?this.options.overrideContextMenu&&this.$editor.on("contextmenu",function(b){return a.context.triggerEvent("contextmenu",b),!1}):(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()}},{key:"destroy",value:function(){this.$editable.off()}},{key:"handleKeyMap",value:function(a){var b=this.options.keyMap[Vc.isMac?"mac":"pc"],c=[];a.metaKey&&c.push("CMD"),a.ctrlKey&&!a.altKey&&c.push("CTRL"),a.shiftKey&&c.push("SHIFT");var d=od.nameFromCode[a.keyCode];d&&c.push(d);var e=b[c.join("+")];if("TAB"!==d||this.options.tabDisable)if(e){if(this.context.invoke(e)!==!1)// if keyMap action was invoked
return a.preventDefault(),!0}else od.isEdit(a.keyCode)&&this.afterCommand();else this.afterCommand();return!1}},{key:"preventDefaultEditableShortCuts",value:function(a){
// B(Bold, 66) / I(Italic, 73) / U(Underline, 85)
(a.ctrlKey||a.metaKey)&&Yc.contains([66,73,85],a.keyCode)&&a.preventDefault()}},{key:"isLimited",value:function(a,b){return a=a||0,("undefined"==typeof b||!(od.isMove(b.keyCode)||od.isNavigation(b.keyCode)||b.ctrlKey||b.metaKey||Yc.contains([od.code.BACKSPACE,od.code.DELETE],b.keyCode)))&&(this.options.maxTextLength>0&&this.$editable.text().length+a>this.options.maxTextLength)}},{key:"createRange",value:function(){return this.focus(),this.setLastRange(),this.getLastRange()}},{key:"createRangeFromList",value:function(a){var b=md.createFromNodeBefore(Yc.head(a)),c=b.getStartPoint(),d=md.createFromNodeAfter(Yc.last(a)),e=d.getEndPoint();return md.create(c.node,c.offset,e.node,e.offset)}},{key:"setLastRange",value:function(a){a?this.lastRange=a:(this.lastRange=md.create(this.editable),0===Lc()(this.lastRange.sc).closest(".note-editable").length&&(this.lastRange=md.createFromBodyElement(this.editable)))}},{key:"getLastRange",value:function(){return this.lastRange||this.setLastRange(),this.lastRange}},{key:"saveRange",value:function(a){a&&this.getLastRange().collapse().select()}},{key:"restoreRange",value:function(){this.lastRange&&(this.lastRange.select(),this.focus())}},{key:"saveTarget",value:function(a){this.$editable.data("target",a)}},{key:"clearTarget",value:function(){this.$editable.removeData("target")}},{key:"restoreTarget",value:function(){return this.$editable.data("target")}},{key:"currentStyle",value:function(){var a=md.create();return a&&(a=a.normalize()),a?this.style.current(a):this.style.fromNode(this.$editable)}},{key:"styleFromNode",value:function(a){return this.style.fromNode(a)}},{key:"undo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"commit",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"redo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"beforeCommand",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),// Set styleWithCSS before run a command
document.execCommand("styleWithCSS",!1,this.options.styleWithCSS),// keep focus on editable before command execution
this.focus()}},{key:"afterCommand",value:function(a){this.normalizeContent(),this.history.recordUndo(),a||this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"tab",value:function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(a,this.options.tabSize),this.afterCommand())}}},{key:"untab",value:function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a,!0);else if(0===this.options.tabSize)return!1}},{key:"wrapCommand",value:function(a){return function(){this.beforeCommand(),a.apply(this,arguments),this.afterCommand()}}},{key:"insertImage",value:function(a,b){var c=this;return fb(a,b).then(function(a){c.beforeCommand(),"function"==typeof b?b(a):("string"==typeof b&&a.attr("data-filename",b),a.css("width",Math.min(c.$editable.width(),a.width()))),a.show(),c.getLastRange().insertNode(a[0]),c.setLastRange(md.createFromNodeAfter(a[0]).select()),c.afterCommand()}).fail(function(a){c.context.triggerEvent("image.upload.error",a)})}},{key:"insertImagesAsDataURL",value:function(a){var b=this;Lc.a.each(a,function(a,c){var d=c.name;b.options.maximumImageFileSize&&b.options.maximumImageFileSize<c.size?b.context.triggerEvent("image.upload.error",b.lang.image.maximumFileSizeError):eb(c).then(function(a){return b.insertImage(a,d)}).fail(function(){b.context.triggerEvent("image.upload.error")})})}},{key:"insertImagesOrCallback",value:function(a){var b=this.options.callbacks;// If onImageUpload set,
b.onImageUpload?this.context.triggerEvent("image.upload",a):this.insertImagesAsDataURL(a)}},{key:"getSelectedText",value:function(){var a=this.getLastRange();// if range on anchor, expand range with anchor
return a.isOnAnchor()&&(a=md.createFromNode(jd.ancestor(a.sc,jd.isAnchor))),a.toString()}},{key:"onFormatBlock",value:function(a,b){// support custom class
if(
// [workaround] for MSIE, IE need `<`
document.execCommand("FormatBlock",!1,Vc.isMSIE?"<"+a+">":a),b&&b.length&&(
// find the exact element has given tagName
b[0].tagName.toUpperCase()!==a.toUpperCase()&&(b=b.find(a)),b&&b.length)){var c=b[0].className||"";if(c){var d=this.createRange(),e=Lc()([d.sc,d.ec]).closest(a);e.addClass(c)}}}},{key:"formatPara",value:function(){this.formatBlock("P")}},{key:"fontStyling",value:function(a,b){var c=this.getLastRange();if(""!==c){var d=this.style.styleNodes(c);// [workaround] added styled bogus span for style
//  - also bogus character needed for cursor position
if(this.$editor.find(".note-status-output").html(""),Lc()(d).css(a,b),c.isCollapsed()){var e=Yc.head(d);e&&!jd.nodeLength(e)&&(e.innerHTML=jd.ZERO_WIDTH_NBSP_CHAR,md.createFromNode(e.firstChild).select(),this.setLastRange(),this.$editable.data(vd,e))}else this.setLastRange(this.createRangeFromList(d).select())}else{var f=Lc.a.now();this.$editor.find(".note-status-output").html('<div id="note-status-output-'+f+'" class="alert alert-info">'+this.lang.output.noSelection+"</div>"),setTimeout(function(){Lc()("#note-status-output-"+f).remove()},5e3)}}},{key:"unlink",value:function(){var a=this.getLastRange();if(a.isOnAnchor()){var b=jd.ancestor(a.sc,jd.isAnchor);a=md.createFromNode(b),a.select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}}},{key:"getLinkInfo",value:function(){var a=this.getLastRange().expand(jd.isAnchor),b=Lc()(Yc.head(a.nodes(jd.isAnchor))),c={range:a,text:a.toString(),url:b.length?b.attr("href"):""};// When anchor exists,
// Set isNewWindow by checking its target.
return b.length&&(c.isNewWindow="_blank"===b.attr("target")),c}},{key:"addRow",value:function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addRow(b,a),this.afterCommand())}},{key:"addCol",value:function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addCol(b,a),this.afterCommand())}},{key:"deleteRow",value:function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(a),this.afterCommand())}},{key:"deleteCol",value:function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(a),this.afterCommand())}},{key:"deleteTable",value:function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(a),this.afterCommand())}},{key:"resizeTo",value:function(a,b,c){var d;if(c){var e=a.y/a.x,f=b.data("ratio");d={width:f>e?a.x:a.y/f,height:f>e?a.x*f:a.y}}else d={width:a.x,height:a.y};b.css(d)}},{key:"hasFocus",value:function(){return this.$editable.is(":focus")}},{key:"focus",value:function(){
// [workaround] Screen will move when page is scolled in IE.
//  - do focus when not focused
this.hasFocus()||this.$editable.focus()}},{key:"isEmpty",value:function(){return jd.isEmpty(this.$editable[0])||jd.emptyPara===this.$editable.html()}},{key:"empty",value:function(){this.context.invoke("code",jd.emptyPara)}},{key:"normalizeContent",value:function(){this.$editable[0].normalize()}}]),a}(),xd=/*#__PURE__*/function(){function a(b){yb(this,a),this.context=b,this.$editable=b.layoutInfo.editable}return Ab(a,[{key:"initialize",value:function(){this.$editable.on("paste",this.pasteByEvent.bind(this))}},{key:"pasteByEvent",value:function(a){var b=this,c=a.originalEvent.clipboardData;if(c&&c.items&&c.items.length){var d=c.items.length>1?c.items[1]:Yc.head(c.items);"file"===d.kind&&d.type.indexOf("image/")!==-1?(
// paste img file
this.context.invoke("editor.insertImagesOrCallback",[d.getAsFile()]),a.preventDefault()):"string"===d.kind&&this.context.invoke("editor.isLimited",c.getData("Text").length)&&a.preventDefault()}else if(window.clipboardData){
// for IE
var e=window.clipboardData.getData("text");this.context.invoke("editor.isLimited",e.length)&&a.preventDefault()}// Call editor.afterCommand after proceeding default event handler
setTimeout(function(){b.context.invoke("editor.afterCommand")},10)}}]),a}(),yd=/*#__PURE__*/function(){function a(b){Bb(this,a),this.context=b,this.$eventListener=Lc()(document),this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=Lc()(['<div class="note-dropzone">','<div class="note-dropzone-message"></div>',"</div>"].join("")).prependTo(this.$editor)}/**
   * attach Drag and Drop Events
   */
return Db(a,[{key:"initialize",value:function(){this.options.disableDragAndDrop?(
// prevent default drop event
this.documentEventHandlers.onDrop=function(a){a.preventDefault()},// do not consider outside of dropzone
this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()}},{key:"attachDragAndDropEvent",value:function(){var a=this,b=Lc()(),c=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(d){var e=a.context.invoke("codeview.isActivated"),f=a.$editor.width()>0&&a.$editor.height()>0;e||b.length||!f||(a.$editor.addClass("dragover"),a.$dropzone.width(a.$editor.width()),a.$dropzone.height(a.$editor.height()),c.text(a.lang.image.dragImageHere)),b=b.add(d.target)},this.documentEventHandlers.onDragleave=function(c){b=b.not(c.target),// If nodeName is BODY, then just make it over (fix for IE)
b.length&&"BODY"!==c.target.nodeName||(b=Lc()(),a.$editor.removeClass("dragover"))},this.documentEventHandlers.onDrop=function(){b=Lc()(),a.$editor.removeClass("dragover")},// show dropzone on dragenter when dragging a object to document
// -but only if the editor is visible, i.e. has a positive width and height
this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),// change dropzone's message on hover.
this.$dropzone.on("dragenter",function(){a.$dropzone.addClass("hover"),c.text(a.lang.image.dropImage)}).on("dragleave",function(){a.$dropzone.removeClass("hover"),c.text(a.lang.image.dragImageHere)}),// attach dropImage
this.$dropzone.on("drop",function(b){var c=b.originalEvent.dataTransfer;// stop the browser from opening the dropped content
b.preventDefault(),c&&c.files&&c.files.length?(a.$editable.focus(),a.context.invoke("editor.insertImagesOrCallback",c.files)):Lc.a.each(c.types,function(b,d){
// skip moz-specific types
if(!(d.toLowerCase().indexOf("_moz_")>-1)){var e=c.getData(d);d.toLowerCase().indexOf("text")>-1?a.context.invoke("editor.pasteHTML",e):Lc()(e).each(function(b,c){a.context.invoke("editor.insertNode",c)})}})}).on("dragover",!1)}},{key:"destroy",value:function(){var a=this;Object.keys(this.documentEventHandlers).forEach(function(b){a.$eventListener.off(b.substr(2).toLowerCase(),a.documentEventHandlers[b])}),this.documentEventHandlers={}}}]),a}(),zd=/*#__PURE__*/function(){function a(b){Hb(this,a),this.context=b,this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.$codable=b.layoutInfo.codable,this.options=b.options,this.CodeMirrorConstructor=window.CodeMirror,this.options.codemirror.CodeMirrorConstructor&&(this.CodeMirrorConstructor=this.options.codemirror.CodeMirrorConstructor)}return Jb(a,[{key:"sync",value:function(a){var b=this.isActivated(),c=this.CodeMirrorConstructor;b&&(a?c?this.$codable.data("cmEditor").getDoc().setValue(a):this.$codable.val(a):c&&this.$codable.data("cmEditor").save())}},{key:"initialize",value:function(){var a=this;this.$codable.on("keyup",function(b){b.keyCode===od.code.ESCAPE&&a.deactivate()})}},{key:"isActivated",value:function(){return this.$editor.hasClass("codeview")}},{key:"toggle",value:function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")}},{key:"purify",value:function(a){if(this.options.codeviewFilter&&(
// filter code view regex
a=a.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var b=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);a=a.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(a){
// remove if src attribute is duplicated
if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(a))return"";var c,d=Eb(b);try{for(d.s();!(c=d.n()).done;){var e=c.value;
// pass if src is trusted
if(new RegExp('src="(https?:)?//'+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(a))return a}}catch(f){d.e(f)}finally{d.f()}return""})}return a}},{key:"activate",value:function(){var a=this,b=this.CodeMirrorConstructor;// activate CodeMirror as codable
if(this.$codable.val(jd.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.context.invoke("airPopover.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),b){var c=b.fromTextArea(this.$codable[0],this.options.codemirror);// CodeMirror TernServer
if(this.options.codemirror.tern){var d=new b.TernServer(this.options.codemirror.tern);c.ternServer=d,c.on("cursorActivity",function(a){d.updateArgHints(a)})}c.on("blur",function(b){a.context.triggerEvent("blur.codeview",c.getValue(),b)}),c.on("change",function(){a.context.triggerEvent("change.codeview",c.getValue(),c)}),// CodeMirror hasn't Padding.
c.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",c)}else this.$codable.on("blur",function(b){a.context.triggerEvent("blur.codeview",a.$codable.val(),b)}),this.$codable.on("input",function(){a.context.triggerEvent("change.codeview",a.$codable.val(),a.$codable)})}},{key:"deactivate",value:function(){var a=this.CodeMirrorConstructor;// deactivate CodeMirror as codable
if(a){var b=this.$codable.data("cmEditor");this.$codable.val(b.getValue()),b.toTextArea()}var c=this.purify(jd.value(this.$codable,this.options.prettifyHtml)||jd.emptyPara),d=this.$editable.html()!==c;this.$editable.html(c),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),d&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1),this.context.invoke("airPopover.updateCodeview",!1)}},{key:"destroy",value:function(){this.isActivated()&&this.deactivate()}}]),a}(),Ad=24,Bd=/*#__PURE__*/function(){function a(b){Kb(this,a),this.$document=Lc()(document),this.$statusbar=b.layoutInfo.statusbar,this.$editable=b.layoutInfo.editable,this.options=b.options}return Mb(a,[{key:"initialize",value:function(){var a=this;return this.options.airMode||this.options.disableResizeEditor?void this.destroy():void this.$statusbar.on("mousedown",function(b){b.preventDefault(),b.stopPropagation();var c=a.$editable.offset().top-a.$document.scrollTop(),d=function(b){var d=b.clientY-(c+Ad);d=a.options.minheight>0?Math.max(d,a.options.minheight):d,d=a.options.maxHeight>0?Math.min(d,a.options.maxHeight):d,a.$editable.height(d)};a.$document.on("mousemove",d).one("mouseup",function(){a.$document.off("mousemove",d)})})}},{key:"destroy",value:function(){this.$statusbar.off(),this.$statusbar.addClass("locked")}}]),a}(),Cd=/*#__PURE__*/function(){function a(b){var c=this;Nb(this,a),this.context=b,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$codable=b.layoutInfo.codable,this.$window=Lc()(window),this.$scrollbar=Lc()("html, body"),this.onResize=function(){c.resizeTo({h:c.$window.height()-c.$toolbar.outerHeight()})}}return Pb(a,[{key:"resizeTo",value:function(a){this.$editable.css("height",a.h),this.$codable.css("height",a.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,a.h)}},{key:"toggle",value:function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())}},{key:"isFullscreen",value:function(){return this.$editor.hasClass("fullscreen")}}]),a}(),Dd=/*#__PURE__*/function(){function a(b){var c=this;Qb(this,a),this.context=b,this.$document=Lc()(document),this.$editingArea=b.layoutInfo.editingArea,this.options=b.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(a,b){c.update(b.target,b)&&b.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){c.update()},"summernote.disable summernote.blur":function(){c.hide()},"summernote.codeview.toggled":function(){c.update()}}}return Sb(a,[{key:"initialize",value:function(){var a=this;this.$handle=Lc()(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(b){if(jd.isControlSizing(b.target)){b.preventDefault(),b.stopPropagation();var c=a.$handle.find(".note-control-selection").data("target"),d=c.offset(),e=a.$document.scrollTop(),f=function(b){a.context.invoke("editor.resizeTo",{x:b.clientX-d.left,y:b.clientY-(d.top-e)},c,!b.shiftKey),a.update(c[0],b)};a.$document.on("mousemove",f).one("mouseup",function(b){b.preventDefault(),a.$document.off("mousemove",f),a.context.invoke("editor.afterCommand")}),c.data("ratio")||
// original ratio.
c.data("ratio",c.height()/c.width())}}),// Listen for scrolling on the handle overlay.
this.$handle.on("wheel",function(b){b.preventDefault(),a.update()})}},{key:"destroy",value:function(){this.$handle.remove()}},{key:"update",value:function(a,b){if(this.context.isDisabled())return!1;var c=jd.isImg(a),d=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",a,b),c){var e=Lc()(a),f=e.position(),g={left:f.left+parseInt(e.css("marginLeft"),10),top:f.top+parseInt(e.css("marginTop"),10)},h={w:e.outerWidth(!1),h:e.outerHeight(!1)};d.css({display:"block",left:g.left,top:g.top,width:h.w,height:h.h}).data("target",e);// save current image element.
var i=new Image;i.src=e.attr("src");var j=h.w+"x"+h.h+" ("+this.lang.image.original+": "+i.width+"x"+i.height+")";d.find(".note-control-selection-info").text(j),this.context.invoke("editor.saveTarget",a)}else this.hide();return c}},{key:"hide",value:function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()}}]),a}(),Ed="http://",Fd=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Gd=/*#__PURE__*/function(){function a(b){var c=this;Tb(this,a),this.context=b,this.options=b.options,this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||c.handleKeyup(b)},"summernote.keydown":function(a,b){c.handleKeydown(b)}}}return Vb(a,[{key:"initialize",value:function(){this.lastWordRange=null}},{key:"destroy",value:function(){this.lastWordRange=null}},{key:"replace",value:function(){if(this.lastWordRange){var a=this.lastWordRange.toString(),b=a.match(Fd);if(b&&(b[1]||b[2])){var c=b[1]?a:Ed+a,d=this.options.showDomainOnlyForAutolink?a.replace(/^(?:https?:\/\/)?(?:tel?:?)?(?:mailto?:?)?(?:www\.)?/i,"").split("/")[0]:a,e=Lc()("<a />").html(d).attr("href",c)[0];this.context.options.linkTargetBlank&&Lc()(e).attr("target","_blank"),this.lastWordRange.insertNode(e),this.lastWordRange=null,this.context.invoke("editor.focus")}}}},{key:"handleKeydown",value:function(a){if(Yc.contains([od.code.ENTER,od.code.SPACE],a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=b}}},{key:"handleKeyup",value:function(a){Yc.contains([od.code.ENTER,od.code.SPACE],a.keyCode)&&this.replace()}}]),a}(),Hd=/*#__PURE__*/function(){function a(b){var c=this;Wb(this,a),this.$note=b.layoutInfo.note,this.events={"summernote.change":function(){c.$note.val(b.invoke("code"))}}}return Yb(a,[{key:"shouldInitialize",value:function(){return jd.isTextarea(this.$note[0])}}]),a}(),Id=/*#__PURE__*/function(){function a(b){var c=this;Zb(this,a),this.context=b,this.options=b.options.replace||{},this.keys=[od.code.ENTER,od.code.SPACE,od.code.PERIOD,od.code.COMMA,od.code.SEMICOLON,od.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||c.handleKeyup(b)},"summernote.keydown":function(a,b){c.handleKeydown(b)}}}return _b(a,[{key:"shouldInitialize",value:function(){return!!this.options.match}},{key:"initialize",value:function(){this.lastWord=null}},{key:"destroy",value:function(){this.lastWord=null}},{key:"replace",value:function(){if(this.lastWord){var a=this,b=this.lastWord.toString();this.options.match(b,function(b){if(b){var c="";if("string"==typeof b?c=jd.createText(b):b instanceof jQuery?c=b[0]:b instanceof Node&&(c=b),!c)return;a.lastWord.insertNode(c),a.lastWord=null,a.context.invoke("editor.focus")}})}}},{key:"handleKeydown",value:function(a){
// this forces it to remember the last whole word, even if multiple termination keys are pressed
// before the previous key is let go.
if(this.previousKeydownCode&&Yc.contains(this.keys,this.previousKeydownCode))return void(this.previousKeydownCode=a.keyCode);if(Yc.contains(this.keys,a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWord=b}this.previousKeydownCode=a.keyCode}},{key:"handleKeyup",value:function(a){Yc.contains(this.keys,a.keyCode)&&this.replace()}}]),a}(),Jd=/*#__PURE__*/function(){function a(b){var c=this;ac(this,a),this.context=b,this.$editingArea=b.layoutInfo.editingArea,this.options=b.options,this.options.inheritPlaceholder===!0&&(
// get placeholder value from the original element
this.options.placeholder=this.context.$note.attr("placeholder")||this.options.placeholder),this.events={"summernote.init summernote.change":function(){c.update()},"summernote.codeview.toggled":function(){c.update()}}}return cc(a,[{key:"shouldInitialize",value:function(){return!!this.options.placeholder}},{key:"initialize",value:function(){var a=this;this.$placeholder=Lc()('<div class="note-placeholder">'),this.$placeholder.on("click",function(){a.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()}},{key:"destroy",value:function(){this.$placeholder.remove()}},{key:"update",value:function(){var a=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(a)}}]),a}(),Kd=/*#__PURE__*/function(){function a(b){dc(this,a),this.ui=Lc.a.summernote.ui,this.context=b,this.$toolbar=b.layoutInfo.toolbar,this.options=b.options,this.lang=this.options.langInfo,this.invertedKeyMap=Xc.invertObject(this.options.keyMap[Vc.isMac?"mac":"pc"])}return fc(a,[{key:"representShortcut",value:function(a){var b=this.invertedKeyMap[a];return this.options.shortcuts&&b?(Vc.isMac&&(b=b.replace("CMD","").replace("SHIFT","")),b=b.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+b+")"):""}},{key:"button",value:function(a){return!this.options.tooltip&&a.tooltip&&delete a.tooltip,a.container=this.options.container,this.ui.button(a)}},{key:"initialize",value:function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}}},{key:"destroy",value:function(){delete this.fontInstalledMap}},{key:"isFontInstalled",value:function(a){return Object.prototype.hasOwnProperty.call(this.fontInstalledMap,a)||(this.fontInstalledMap[a]=Vc.isFontInstalled(a)||Yc.contains(this.options.fontNamesIgnoreCheck,a)),this.fontInstalledMap[a]}},{key:"isFontDeservedToAdd",value:function(a){return a=a.toLowerCase(),""!==a&&this.isFontInstalled(a)&&Vc.genericFontFamilies.indexOf(a)===-1}},{key:"colorPalette",value:function(a,b,c,d){var e=this;return this.ui.buttonGroup({className:"note-color "+a,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:b,click:function(a){var b=Lc()(a.currentTarget);c&&d?e.context.invoke("editor.color",{backColor:b.attr("data-backColor"),foreColor:b.attr("data-foreColor")}):c?e.context.invoke("editor.color",{backColor:b.attr("data-backColor")}):d&&e.context.invoke("editor.color",{foreColor:b.attr("data-foreColor")})},callback:function(a){var b=a.find(".note-recent-color");c&&(b.css("background-color",e.options.colorButton.backColor),a.attr("data-backColor",e.options.colorButton.backColor)),d?(b.css("color",e.options.colorButton.foreColor),a.attr("data-foreColor",e.options.colorButton.foreColor)):b.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(c?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.background+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="backColor" data-value="transparent">',this.lang.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor"><!-- back colors --></div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"</button>",'<input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"</div>",'<div class="note-holder-custom" id="backColorPalette" data-event="backColor"></div>',"</div>"].join(""):"")+(d?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.foreground+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"</button>","</div>",'<div class="note-holder" data-event="foreColor"><!-- fore colors --></div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"</button>",'<input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">',"</div>",// Fix missing Div, Commented to find easily if it's wrong
'<div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"></div>',"</div>"].join(""):""),callback:function(a){a.find(".note-holder").each(function(a,b){var c=Lc()(b);c.append(e.ui.palette({colors:e.options.colors,colorsName:e.options.colorsName,eventName:c.data("event"),container:e.options.container,tooltip:e.options.tooltip}).render())});/* TODO: do we have to record recent custom colors within cookies? */
var b=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];a.find(".note-holder-custom").each(function(a,c){var d=Lc()(c);d.append(e.ui.palette({colors:b,colorsName:b,eventName:d.data("event"),container:e.options.container,tooltip:e.options.tooltip}).render())}),a.find("input[type=color]").each(function(b,c){Lc()(c).change(function(){var b=a.find("#"+Lc()(this).data("event")).find(".note-color-btn").first(),c=this.value.toUpperCase();b.css("background-color",c).attr("aria-label",c).attr("data-value",c).attr("data-original-title",c),b.click()})})},click:function(b){b.stopPropagation();var c=Lc()("."+a).find(".note-dropdown-menu"),d=Lc()(b.target),f=d.data("event"),g=d.attr("data-value");if("openPalette"===f){var h=c.find("#"+g),i=Lc()(c.find("#"+h.data("event")).find(".note-color-row")[0]),j=i.find(".note-color-btn").last().detach(),k=h.val();j.css("background-color",k).attr("aria-label",k).attr("data-value",k).attr("data-original-title",k),i.prepend(j),h.click()}else{if(Yc.contains(["backColor","foreColor"],f)){var l="backColor"===f?"background-color":"color",m=d.closest(".note-color").find(".note-recent-color"),n=d.closest(".note-color").find(".note-current-color-button");m.css(l,g),n.attr("data-"+f,g)}e.context.invoke("editor."+f,g)}}})]}).render()}},{key:"addToolbarButtons",value:function(){var a=this;this.context.memo("button.style",function(){return a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents(a.ui.icon(a.options.icons.magic),a.options),tooltip:a.lang.style.style,data:{toggle:"dropdown"}}),a.ui.dropdown({className:"dropdown-style",items:a.options.styleTags,title:a.lang.style.style,template:function(b){
// TBD: need to be simplified
"string"==typeof b&&(b={tag:b,title:Object.prototype.hasOwnProperty.call(a.lang.style,b)?a.lang.style[b]:b});var c=b.tag,d=b.title,e=b.style?' style="'+b.style+'" ':"",f=b.className?' class="'+b.className+'"':"";return"<"+c+e+f+">"+d+"</"+c+">"},click:a.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var b=function(b,c){var d=a.options.styleTags[b];a.context.memo("button.style."+d,function(){return a.button({className:"note-btn-style-"+d,contents:'<div data-value="'+d+'">'+d.toUpperCase()+"</div>",tooltip:a.lang.style[d],click:a.context.createInvokeHandler("editor.formatBlock")}).render()})},c=0,d=this.options.styleTags.length;c<d;c++)b(c,d);this.context.memo("button.bold",function(){return a.button({className:"note-btn-bold",contents:a.ui.icon(a.options.icons.bold),tooltip:a.lang.font.bold+a.representShortcut("bold"),click:a.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return a.button({className:"note-btn-italic",contents:a.ui.icon(a.options.icons.italic),tooltip:a.lang.font.italic+a.representShortcut("italic"),click:a.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return a.button({className:"note-btn-underline",contents:a.ui.icon(a.options.icons.underline),tooltip:a.lang.font.underline+a.representShortcut("underline"),click:a.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return a.button({contents:a.ui.icon(a.options.icons.eraser),tooltip:a.lang.font.clear+a.representShortcut("removeFormat"),click:a.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return a.button({className:"note-btn-strikethrough",contents:a.ui.icon(a.options.icons.strikethrough),tooltip:a.lang.font.strikethrough+a.representShortcut("strikethrough"),click:a.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return a.button({className:"note-btn-superscript",contents:a.ui.icon(a.options.icons.superscript),tooltip:a.lang.font.superscript,click:a.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return a.button({className:"note-btn-subscript",contents:a.ui.icon(a.options.icons.subscript),tooltip:a.lang.font.subscript,click:a.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var b=a.context.invoke("editor.currentStyle");
// Add 'default' fonts into the fontnames array if not exist
return a.options.addDefaultFonts&&Lc.a.each(b["font-family"].split(","),function(b,c){c=c.trim().replace(/['"]+/g,""),a.isFontDeservedToAdd(c)&&a.options.fontNames.indexOf(c)===-1&&a.options.fontNames.push(c)}),a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents('<span class="note-current-fontname"></span>',a.options),tooltip:a.lang.font.name,data:{toggle:"dropdown"}}),a.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:a.options.icons.menuCheck,items:a.options.fontNames.filter(a.isFontInstalled.bind(a)),title:a.lang.font.name,template:function(a){return'<span style="font-family: '+Vc.validFontName(a)+'">'+a+"</span>"},click:a.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents('<span class="note-current-fontsize"></span>',a.options),tooltip:a.lang.font.size,data:{toggle:"dropdown"}}),a.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:a.options.icons.menuCheck,items:a.options.fontSizes,title:a.lang.font.size,click:a.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.fontsizeunit",function(){return a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents('<span class="note-current-fontsizeunit"></span>',a.options),tooltip:a.lang.font.sizeunit,data:{toggle:"dropdown"}}),a.ui.dropdownCheck({className:"dropdown-fontsizeunit",checkClassName:a.options.icons.menuCheck,items:a.options.fontSizeUnits,title:a.lang.font.sizeunit,click:a.context.createInvokeHandlerAndUpdateState("editor.fontSizeUnit")})]).render()}),this.context.memo("button.color",function(){return a.colorPalette("note-color-all",a.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return a.colorPalette("note-color-fore",a.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return a.colorPalette("note-color-back",a.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return a.button({contents:a.ui.icon(a.options.icons.unorderedlist),tooltip:a.lang.lists.unordered+a.representShortcut("insertUnorderedList"),click:a.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return a.button({contents:a.ui.icon(a.options.icons.orderedlist),tooltip:a.lang.lists.ordered+a.representShortcut("insertOrderedList"),click:a.context.createInvokeHandler("editor.insertOrderedList")}).render()});var e=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),f=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),g=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),h=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),i=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),j=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",Xc.invoke(e,"render")),this.context.memo("button.justifyCenter",Xc.invoke(f,"render")),this.context.memo("button.justifyRight",Xc.invoke(g,"render")),this.context.memo("button.justifyFull",Xc.invoke(h,"render")),this.context.memo("button.outdent",Xc.invoke(i,"render")),this.context.memo("button.indent",Xc.invoke(j,"render")),this.context.memo("button.paragraph",function(){return a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents(a.ui.icon(a.options.icons.alignLeft),a.options),tooltip:a.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),a.ui.dropdown([a.ui.buttonGroup({className:"note-align",children:[e,f,g,h]}),a.ui.buttonGroup({className:"note-list",children:[i,j]})])]).render()}),this.context.memo("button.height",function(){return a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents(a.ui.icon(a.options.icons.textHeight),a.options),tooltip:a.lang.font.height,data:{toggle:"dropdown"}}),a.ui.dropdownCheck({items:a.options.lineHeights,checkClassName:a.options.icons.menuCheck,className:"dropdown-line-height",title:a.lang.font.height,click:a.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents(a.ui.icon(a.options.icons.table),a.options),tooltip:a.lang.table.table,data:{toggle:"dropdown"}}),a.ui.dropdown({title:a.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(b){var c=b.find(".note-dimension-picker-mousecatcher");c.css({width:a.options.insertTableMaxSize.col+"em",height:a.options.insertTableMaxSize.row+"em"}).mousedown(a.context.createInvokeHandler("editor.insertTable")).on("mousemove",a.tableMoveHandler.bind(a))}}).render()}),this.context.memo("button.link",function(){return a.button({contents:a.ui.icon(a.options.icons.link),tooltip:a.lang.link.link+a.representShortcut("linkDialog.show"),click:a.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return a.button({contents:a.ui.icon(a.options.icons.picture),tooltip:a.lang.image.image,click:a.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return a.button({contents:a.ui.icon(a.options.icons.video),tooltip:a.lang.video.video,click:a.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return a.button({contents:a.ui.icon(a.options.icons.minus),tooltip:a.lang.hr.insert+a.representShortcut("insertHorizontalRule"),click:a.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return a.button({className:"btn-fullscreen note-codeview-keep",contents:a.ui.icon(a.options.icons.arrowsAlt),tooltip:a.lang.options.fullscreen,click:a.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return a.button({className:"btn-codeview note-codeview-keep",contents:a.ui.icon(a.options.icons.code),tooltip:a.lang.options.codeview,click:a.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return a.button({contents:a.ui.icon(a.options.icons.redo),tooltip:a.lang.history.redo+a.representShortcut("redo"),click:a.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return a.button({contents:a.ui.icon(a.options.icons.undo),tooltip:a.lang.history.undo+a.representShortcut("undo"),click:a.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return a.button({contents:a.ui.icon(a.options.icons.question),tooltip:a.lang.options.help,click:a.context.createInvokeHandler("helpDialog.show")}).render()})}},{key:"addImagePopoverButtons",value:function(){var a=this;
// Image Size Buttons
this.context.memo("button.resizeFull",function(){return a.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:a.lang.image.resizeFull,click:a.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return a.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:a.lang.image.resizeHalf,click:a.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return a.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:a.lang.image.resizeQuarter,click:a.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.resizeNone,click:a.context.createInvokeHandler("editor.resize","0")}).render()}),// Float Buttons
this.context.memo("button.floatLeft",function(){return a.button({contents:a.ui.icon(a.options.icons.floatLeft),tooltip:a.lang.image.floatLeft,click:a.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return a.button({contents:a.ui.icon(a.options.icons.floatRight),tooltip:a.lang.image.floatRight,click:a.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.floatNone,click:a.context.createInvokeHandler("editor.floatMe","none")}).render()}),// Remove Buttons
this.context.memo("button.removeMedia",function(){return a.button({contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.image.remove,click:a.context.createInvokeHandler("editor.removeMedia")}).render()})}},{key:"addLinkPopoverButtons",value:function(){var a=this;this.context.memo("button.linkDialogShow",function(){return a.button({contents:a.ui.icon(a.options.icons.link),tooltip:a.lang.link.edit,click:a.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return a.button({contents:a.ui.icon(a.options.icons.unlink),tooltip:a.lang.link.unlink,click:a.context.createInvokeHandler("editor.unlink")}).render()})}},{key:"addTablePopoverButtons",value:function(){var a=this;this.context.memo("button.addRowUp",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowAbove),tooltip:a.lang.table.addRowAbove,click:a.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowBelow),tooltip:a.lang.table.addRowBelow,click:a.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colBefore),tooltip:a.lang.table.addColLeft,click:a.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colAfter),tooltip:a.lang.table.addColRight,click:a.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowRemove),tooltip:a.lang.table.delRow,click:a.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colRemove),tooltip:a.lang.table.delCol,click:a.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.table.delTable,click:a.context.createInvokeHandler("editor.deleteTable")}).render()})}},{key:"build",value:function(a,b){for(var c=0,d=b.length;c<d;c++){for(var e=b[c],f=Array.isArray(e)?e[0]:e,g=Array.isArray(e)?1===e.length?[e[0]]:e[1]:[e],h=this.ui.buttonGroup({className:"note-"+f}).render(),i=0,j=g.length;i<j;i++){var k=this.context.memo("button."+g[i]);k&&h.append("function"==typeof k?k(this.context):k)}h.appendTo(a)}}},{key:"updateCurrentStyle",value:function(a){var b=this,c=a||this.$toolbar,d=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(c,{".note-btn-bold":function(){return"bold"===d["font-bold"]},".note-btn-italic":function(){return"italic"===d["font-italic"]},".note-btn-underline":function(){return"underline"===d["font-underline"]},".note-btn-subscript":function(){return"subscript"===d["font-subscript"]},".note-btn-superscript":function(){return"superscript"===d["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===d["font-strikethrough"]}}),d["font-family"]){var e=d["font-family"].split(",").map(function(a){return a.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),f=Yc.find(e,this.isFontInstalled.bind(this));c.find(".dropdown-fontname a").each(function(a,b){var c=Lc()(b),d=c.data("value")+""==f+"";c.toggleClass("checked",d)}),c.find(".note-current-fontname").text(f).css("font-family",f)}if(d["font-size"]){var g=d["font-size"];c.find(".dropdown-fontsize a").each(function(a,b){var c=Lc()(b),d=c.data("value")+""==g+"";c.toggleClass("checked",d)}),c.find(".note-current-fontsize").text(g);var h=d["font-size-unit"];c.find(".dropdown-fontsizeunit a").each(function(a,b){var c=Lc()(b),d=c.data("value")+""==h+"";c.toggleClass("checked",d)}),c.find(".note-current-fontsizeunit").text(h)}if(d["line-height"]){var i=d["line-height"];c.find(".dropdown-line-height li a").each(function(a,c){
// always compare with string to avoid creating another func.
var d=Lc()(c).data("value")+""==i+"";b.className=d?"checked":""})}}},{key:"updateBtnStates",value:function(a,b){var c=this;Lc.a.each(b,function(b,d){c.ui.toggleBtnActive(a.find(b),d())})}},{key:"tableMoveHandler",value:function(a){var b,c=18,d=Lc()(a.target.parentNode),e=d.next(),f=d.find(".note-dimension-picker-mousecatcher"),g=d.find(".note-dimension-picker-highlighted"),h=d.find(".note-dimension-picker-unhighlighted");// HTML5 with jQuery - e.offsetX is undefined in Firefox
if(void 0===a.offsetX){var i=Lc()(a.target).offset();b={x:a.pageX-i.left,y:a.pageY-i.top}}else b={x:a.offsetX,y:a.offsetY};var j={c:Math.ceil(b.x/c)||1,r:Math.ceil(b.y/c)||1};g.css({width:j.c+"em",height:j.r+"em"}),f.data("value",j.c+"x"+j.r),j.c>3&&j.c<this.options.insertTableMaxSize.col&&h.css({width:j.c+1+"em"}),j.r>3&&j.r<this.options.insertTableMaxSize.row&&h.css({height:j.r+1+"em"}),e.html(j.c+" x "+j.r)}}]),a}(),Ld=/*#__PURE__*/function(){function a(b){gc(this,a),this.context=b,this.$window=Lc()(window),this.$document=Lc()(document),this.ui=Lc.a.summernote.ui,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$statusbar=b.layoutInfo.statusbar,this.options=b.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}return ic(a,[{key:"shouldInitialize",value:function(){return!this.options.airMode}},{key:"initialize",value:function(){var a=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){a.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)}},{key:"destroy",value:function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)}},{key:"followScroll",value:function(){if(this.$editor.hasClass("fullscreen"))return!1;var a=this.$editor.outerHeight(),b=this.$editor.width(),c=this.$toolbar.height(),d=this.$statusbar.height(),e=0;this.options.otherStaticBar&&(e=Lc()(this.options.otherStaticBar).outerHeight());var f=this.$document.scrollTop(),g=this.$editor.offset().top,h=g+a,i=g-e,j=h-e-c-d;!this.isFollowing&&f>i&&f<j-c?(this.isFollowing=!0,this.$editable.css({marginTop:this.$toolbar.outerHeight()}),this.$toolbar.css({position:"fixed",top:e,width:b,zIndex:1e3})):this.isFollowing&&(f<i||f>j)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%",zIndex:"auto"}),this.$editable.css({marginTop:""}))}},{key:"changeContainer",value:function(a){a?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.options.followingToolbar&&this.followScroll()}},{key:"updateFullscreen",value:function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),a),this.changeContainer(a)}},{key:"updateCodeview",value:function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),a),a?this.deactivate():this.activate()}},{key:"activate",value:function(a){var b=this.$toolbar.find("button");a||(b=b.not(".note-codeview-keep")),this.ui.toggleBtn(b,!0)}},{key:"deactivate",value:function(a){var b=this.$toolbar.find("button");a||(b=b.not(".note-codeview-keep")),this.ui.toggleBtn(b,!1)}}]),a}(),Md=/*#__PURE__*/function(){function a(b){jc(this,a),this.context=b,this.ui=Lc.a.summernote.ui,this.$body=Lc()(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo,b.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return lc(a,[{key:"initialize",value:function(){var a=this.options.dialogsInBody?this.$body:this.options.container,b=['<div class="form-group note-form-group">','<label for="note-dialog-link-txt-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.textToDisplay,"</label>"),'<input id="note-dialog-link-txt-'.concat(this.options.id,'" class="note-link-text form-control note-form-control note-input" type="text"/>'),"</div>",'<div class="form-group note-form-group">','<label for="note-dialog-link-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.url,"</label>"),'<input id="note-dialog-link-url-'.concat(this.options.id,'" class="note-link-url form-control note-form-control note-input" type="text" value="http://"/>'),"</div>",this.options.disableLinkTarget?"":Lc()("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html(),Lc()("<div/>").append(this.ui.checkbox({className:"sn-checkbox-use-protocol",text:this.lang.link.useProtocol,checked:!0}).render()).html()].join(""),c="btn btn-primary note-btn note-btn-primary note-link-btn",d='<input type="button" href="#" class="'.concat(c,'" value="').concat(this.lang.link.insert,'" disabled>');this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:b,footer:d}).render().appendTo(a)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(a,b){a.on("keypress",function(a){a.keyCode===od.code.ENTER&&(a.preventDefault(),b.trigger("click"))})}},{key:"toggleLinkBtn",value:function(a,b,c){this.ui.toggleBtn(a,b.val()&&c.val())}},{key:"showLinkDialog",value:function(a){var b=this;return Lc.a.Deferred(function(c){var d=b.$dialog.find(".note-link-text"),e=b.$dialog.find(".note-link-url"),f=b.$dialog.find(".note-link-btn"),g=b.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]"),h=b.$dialog.find(".sn-checkbox-use-protocol input[type=checkbox]");b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),// If no url was given and given text is valid URL then copy that into URL Field
!a.url&&Xc.isValidUrl(a.text)&&(a.url=a.text),d.on("input paste propertychange",function(){
// If linktext was modified by input events,
// cloning text from linkUrl will be stopped.
a.text=d.val(),b.toggleLinkBtn(f,d,e)}).val(a.text),e.on("input paste propertychange",function(){
// Display same text on `Text to display` as default
// when linktext has no text
a.text||d.val(e.val()),b.toggleLinkBtn(f,d,e)}).val(a.url),Vc.isSupportTouch||e.trigger("focus"),b.toggleLinkBtn(f,d,e),b.bindEnterKey(e,f),b.bindEnterKey(d,f);var i=void 0!==a.isNewWindow?a.isNewWindow:b.context.options.linkTargetBlank;g.prop("checked",i);var j=!a.url&&b.context.options.useProtocol;h.prop("checked",j),f.one("click",function(f){f.preventDefault(),c.resolve({range:a.range,url:e.val(),text:d.val(),isNewWindow:g.is(":checked"),checkProtocol:h.is(":checked")}),b.ui.hideDialog(b.$dialog)})}),b.ui.onDialogHidden(b.$dialog,function(){
// detach events
d.off(),e.off(),f.off(),"pending"===c.state()&&c.reject()}),b.ui.showDialog(b.$dialog)}).promise()}},{key:"show",value:function(){var a=this,b=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(b).then(function(b){a.context.invoke("editor.restoreRange"),a.context.invoke("editor.createLink",b)}).fail(function(){a.context.invoke("editor.restoreRange")})}}]),a}(),Nd=/*#__PURE__*/function(){function a(b){var c=this;mc(this,a),this.context=b,this.ui=Lc.a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){c.update()},"summernote.disable summernote.dialog.shown summernote.blur":function(){c.hide()}}}return oc(a,[{key:"shouldInitialize",value:function(){return!Yc.isEmpty(this.options.popover.link)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(a){var b=a.find(".popover-content,.note-popover-content");b.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.link),this.$popover.on("mousedown",function(a){a.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(){
// Prevent focusing on editable when invoke('code') is executed
if(!this.context.invoke("editor.hasFocus"))return void this.hide();var a=this.context.invoke("editor.getLastRange");if(a.isCollapsed()&&a.isOnAnchor()){var b=jd.ancestor(a.sc,jd.isAnchor),c=Lc()(b).attr("href");this.$popover.find("a").attr("href",c).text(c);var d=jd.posFromPlaceholder(b),e=Lc()(this.options.container).offset();d.top-=e.top,d.left-=e.left,this.$popover.css({display:"block",left:d.left,top:d.top})}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}]),a}(),Od=/*#__PURE__*/function(){function a(b){pc(this,a),this.context=b,this.ui=Lc.a.summernote.ui,this.$body=Lc()(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return rc(a,[{key:"initialize",value:function(){var a="";if(this.options.maximumImageFileSize){var b=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),c=1*(this.options.maximumImageFileSize/Math.pow(1024,b)).toFixed(2)+" "+" KMGTP"[b]+"B";a="<small>".concat(this.lang.image.maximumFileSize+" : "+c,"</small>")}var d=this.options.dialogsInBody?this.$body:this.options.container,e=['<div class="form-group note-form-group note-group-select-from-files">','<label for="note-dialog-image-file-'+this.options.id+'" class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input id="note-dialog-image-file-'+this.options.id+'" class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple"/>',a,"</div>",'<div class="form-group note-group-image-url">','<label for="note-dialog-image-url-'+this.options.id+'" class="note-form-label">'+this.lang.image.url+"</label>",'<input id="note-dialog-image-url-'+this.options.id+'" class="note-image-url form-control note-form-control note-input" type="text"/>',"</div>"].join(""),f="btn btn-primary note-btn note-btn-primary note-image-btn",g='<input type="button" href="#" class="'.concat(f,'" value="').concat(this.lang.image.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:e,footer:g}).render().appendTo(d)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(a,b){a.on("keypress",function(a){a.keyCode===od.code.ENTER&&(a.preventDefault(),b.trigger("click"))})}},{key:"show",value:function(){var a=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(b){
// [workaround] hide dialog before restore range for IE range focus
a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange"),"string"==typeof b?
// image url
// If onImageLinkInsert set,
a.options.callbacks.onImageLinkInsert?a.context.triggerEvent("image.link.insert",b):a.context.invoke("editor.insertImage",b):
// array of files
a.context.invoke("editor.insertImagesOrCallback",b)}).fail(function(){a.context.invoke("editor.restoreRange")})}},{key:"showImageDialog",value:function(){var a=this;return Lc.a.Deferred(function(b){var c=a.$dialog.find(".note-image-input"),d=a.$dialog.find(".note-image-url"),e=a.$dialog.find(".note-image-btn");a.ui.onDialogShown(a.$dialog,function(){a.context.triggerEvent("dialog.shown"),// Cloning imageInput to clear element.
c.replaceWith(c.clone().on("change",function(a){b.resolve(a.target.files||a.target.value)}).val("")),d.on("input paste propertychange",function(){a.ui.toggleBtn(e,d.val())}).val(""),Vc.isSupportTouch||d.trigger("focus"),e.click(function(a){a.preventDefault(),b.resolve(d.val())}),a.bindEnterKey(d,e)}),a.ui.onDialogHidden(a.$dialog,function(){c.off(),d.off(),e.off(),"pending"===b.state()&&b.reject()}),a.ui.showDialog(a.$dialog)})}}]),a}(),Pd=/*#__PURE__*/function(){function a(b){var c=this;sc(this,a),this.context=b,this.ui=Lc.a.summernote.ui,this.editable=b.layoutInfo.editable[0],this.options=b.options,this.events={"summernote.disable summernote.blur":function(){c.hide()}}}return uc(a,[{key:"shouldInitialize",value:function(){return!Yc.isEmpty(this.options.popover.image)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.image),this.$popover.on("mousedown",function(a){a.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(a,b){if(jd.isImg(a)){var c=Lc()(a).offset(),d=Lc()(this.options.container).offset(),e={};this.options.popatmouse?(e.left=b.pageX-20,e.top=b.pageY):e=c,e.top-=d.top,e.left-=d.left,this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}]),a}(),Qd=/*#__PURE__*/function(){function a(b){var c=this;vc(this,a),this.context=b,this.ui=Lc.a.summernote.ui,this.options=b.options,this.events={"summernote.mousedown":function(a,b){c.update(b.target)},"summernote.keyup summernote.scroll summernote.change":function(){c.update()},"summernote.disable summernote.blur":function(){c.hide()}}}return xc(a,[{key:"shouldInitialize",value:function(){return!Yc.isEmpty(this.options.popover.table)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.table),// [workaround] Disable Firefox's default table editor
Vc.isFF&&document.execCommand("enableInlineTableEditing",!1,!1),this.$popover.on("mousedown",function(a){a.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(a){if(this.context.isDisabled())return!1;var b=jd.isCell(a);if(b){var c=jd.posFromPlaceholder(a),d=Lc()(this.options.container).offset();c.top-=d.top,c.left-=d.left,this.$popover.css({display:"block",left:c.left,top:c.top})}else this.hide();return b}},{key:"hide",value:function(){this.$popover.hide()}}]),a}(),Rd=/*#__PURE__*/function(){function a(b){yc(this,a),this.context=b,this.ui=Lc.a.summernote.ui,this.$body=Lc()(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return Ac(a,[{key:"initialize",value:function(){var a=this.options.dialogsInBody?this.$body:this.options.container,b=['<div class="form-group note-form-group row-fluid">','<label for="note-dialog-video-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.video.url,' <small class="text-muted">').concat(this.lang.video.providers,"</small></label>"),'<input id="note-dialog-video-url-'.concat(this.options.id,'" class="note-video-url form-control note-form-control note-input" type="text"/>'),"</div>"].join(""),c="btn btn-primary note-btn note-btn-primary note-video-btn",d='<input type="button" href="#" class="'.concat(c,'" value="').concat(this.lang.video.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:b,footer:d}).render().appendTo(a)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(a,b){a.on("keypress",function(a){a.keyCode===od.code.ENTER&&(a.preventDefault(),b.trigger("click"))})}},{key:"createVideoNode",value:function(a){
// video url patterns(youtube, instagram, vimeo, dailymotion, youku, mp4, ogg, webm)
var b,c=/\/\/(?:(?:www|m)\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/,d=/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/,e=a.match(c),f=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,g=a.match(f),h=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,i=a.match(h),j=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/,k=a.match(j),l=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,m=a.match(l),n=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,o=a.match(n),p=/\/\/v\.qq\.com.*?vid=(.+)/,q=a.match(p),r=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/,s=a.match(r),t=/^.+.(mp4|m4v)$/,u=a.match(t),v=/^.+.(ogg|ogv)$/,w=a.match(v),x=/^.+.(webm)$/,y=a.match(x),z=/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/,A=a.match(z);if(e&&11===e[1].length){var B=e[1],C=0;if("undefined"!=typeof e[2]){var D=e[2].match(d);if(D)for(var E=[3600,60,1],F=0,G=E.length;F<G;F++)C+="undefined"!=typeof D[F+1]?E[F]*parseInt(D[F+1],10):0}b=Lc()("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+B+(C>0?"?start="+C:"")).attr("width","640").attr("height","360")}else if(g&&g[0].length)b=Lc()("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+g[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)b=Lc()("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(k&&k[3].length)b=Lc()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+k[3]).attr("width","640").attr("height","360");else if(m&&m[2].length)b=Lc()("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+m[2]).attr("width","640").attr("height","360");else if(o&&o[1].length)b=Lc()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+o[1]);else if(q&&q[1].length||s&&s[2].length){var H=q&&q[1].length?q[1]:s[2];b=Lc()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","https://v.qq.com/txp/iframe/player.html?vid="+H+"&amp;auto=0")}else if(u||w||y)b=Lc()("<video controls>").attr("src",a).attr("width","640").attr("height","360");else{if(!A||!A[0].length)
// this is not a known video link. Now what, Cat? Now what?
return!1;b=Lc()("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(A[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return b.addClass("note-video-clip"),b[0]}},{key:"show",value:function(){var a=this,b=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(b).then(function(b){
// [workaround] hide dialog before restore range for IE range focus
a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange");// build node
var c=a.createVideoNode(b);c&&
// insert video node
a.context.invoke("editor.insertNode",c)}).fail(function(){a.context.invoke("editor.restoreRange")})}},{key:"showVideoDialog",value:function(){var a=this;return Lc.a.Deferred(function(b){var c=a.$dialog.find(".note-video-url"),d=a.$dialog.find(".note-video-btn");a.ui.onDialogShown(a.$dialog,function(){a.context.triggerEvent("dialog.shown"),c.on("input paste propertychange",function(){a.ui.toggleBtn(d,c.val())}),Vc.isSupportTouch||c.trigger("focus"),d.click(function(a){a.preventDefault(),b.resolve(c.val())}),a.bindEnterKey(c,d)}),a.ui.onDialogHidden(a.$dialog,function(){c.off(),d.off(),"pending"===b.state()&&b.reject()}),a.ui.showDialog(a.$dialog)})}}]),a}(),Sd=/*#__PURE__*/function(){function a(b){Bc(this,a),this.context=b,this.ui=Lc.a.summernote.ui,this.$body=Lc()(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return Dc(a,[{key:"initialize",value:function(){var a=this.options.dialogsInBody?this.$body:this.options.container,b=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.18</a>  ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a>  ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:b,callback:function(a){a.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(a)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"createShortcutList",value:function(){var a=this,b=this.options.keyMap[Vc.isMac?"mac":"pc"];return Object.keys(b).map(function(c){var d=b[c],e=Lc()('<div><div class="help-list-item"></div></div>');return e.append(Lc()("<label><kbd>"+c+"</kdb></label>").css({width:180,"margin-right":10})).append(Lc()("<span/>").html(a.context.memo("help."+d)||d)),e.html()}).join("")}},{key:"showHelpDialog",value:function(){var a=this;return Lc.a.Deferred(function(b){a.ui.onDialogShown(a.$dialog,function(){a.context.triggerEvent("dialog.shown"),b.resolve()}),a.ui.showDialog(a.$dialog)}).promise()}},{key:"show",value:function(){var a=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){a.context.invoke("editor.restoreRange")})}}]),a}(),Td=-5,Ud=5,Vd=/*#__PURE__*/function(){function a(b){var c=this;Ec(this,a),this.context=b,this.ui=Lc.a.summernote.ui,this.options=b.options,this.hidable=!0,this.onContextmenu=!1,this.pageX=null,this.pageY=null,this.events={"summernote.contextmenu":function(a){c.options.editing&&(a.preventDefault(),a.stopPropagation(),c.onContextmenu=!0,c.update(!0))},"summernote.mousedown":function(a,b){c.pageX=b.pageX,c.pageY=b.pageY},"summernote.keyup summernote.mouseup summernote.scroll":function(a,b){c.options.editing&&!c.onContextmenu&&(c.pageX=b.pageX,c.pageY=b.pageY,c.update()),c.onContextmenu=!1},"summernote.disable summernote.change summernote.dialog.shown summernote.blur":function(){c.hide()},"summernote.focusout":function(){c.$popover.is(":active,:focus")||c.hide()}}}return Gc(a,[{key:"shouldInitialize",value:function(){return this.options.airMode&&!Yc.isEmpty(this.options.popover.air)}},{key:"initialize",value:function(){var a=this;this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var b=this.$popover.find(".popover-content");this.context.invoke("buttons.build",b,this.options.popover.air),// disable hiding this popover preemptively by 'summernote.blur' event.
this.$popover.on("mousedown",function(){a.hidable=!1}),// (re-)enable hiding after 'summernote.blur' has been handled (aka. ignored).
this.$popover.on("mouseup",function(){a.hidable=!0})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(a){var b=this.context.invoke("editor.currentStyle");if(!b.range||b.range.isCollapsed()&&!a)this.hide();else{var c={left:this.pageX,top:this.pageY},d=Lc()(this.options.container).offset();c.top-=d.top,c.left-=d.left,this.$popover.css({display:"block",left:Math.max(c.left,0)+Td,top:c.top+Ud}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}},{key:"updateCodeview",value:function(a){this.ui.toggleBtnActive(this.$popover.find(".btn-codeview"),a),a&&this.hide()}},{key:"hide",value:function(){this.hidable&&this.$popover.hide()}}]),a}(),Wd=5,Xd=/*#__PURE__*/function(){function a(b){var c=this;Hc(this,a),this.context=b,this.ui=Lc.a.summernote.ui,this.$editable=b.layoutInfo.editable,this.options=b.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||c.handleKeyup(b)},"summernote.keydown":function(a,b){c.handleKeydown(b)},"summernote.disable summernote.dialog.shown summernote.blur":function(){c.hide()}}}return Jc(a,[{key:"shouldInitialize",value:function(){return this.hints.length>0}},{key:"initialize",value:function(){var a=this;this.lastWordRange=null,this.matchingWord=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(b){a.$content.find(".active").removeClass("active"),Lc()(b.currentTarget).addClass("active"),a.replace()}),this.$popover.on("mousedown",function(a){a.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"selectItem",value:function(a){this.$content.find(".active").removeClass("active"),a.addClass("active"),this.$content[0].scrollTop=a[0].offsetTop-this.$content.innerHeight()/2}},{key:"moveDown",value:function(){var a=this.$content.find(".note-hint-item.active"),b=a.next();if(b.length)this.selectItem(b);else{var c=a.parent().next();c.length||(c=this.$content.find(".note-hint-group").first()),this.selectItem(c.find(".note-hint-item").first())}}},{key:"moveUp",value:function(){var a=this.$content.find(".note-hint-item.active"),b=a.prev();if(b.length)this.selectItem(b);else{var c=a.parent().prev();c.length||(c=this.$content.find(".note-hint-group").last()),this.selectItem(c.find(".note-hint-item").last())}}},{key:"replace",value:function(){var a=this.$content.find(".note-hint-item.active");if(a.length){var b=this.nodeFromItem(a);// If matchingWord length = 0 -> capture OK / open hint / but as mention capture "" (\w*)
if(null!==this.matchingWord&&0===this.matchingWord.length)this.lastWordRange.so=this.lastWordRange.eo;else if(null!==this.matchingWord&&this.matchingWord.length>0&&!this.lastWordRange.isCollapsed()){var c=this.lastWordRange.eo-this.lastWordRange.so-this.matchingWord.length;c>0&&(this.lastWordRange.so+=c)}if(this.lastWordRange.insertNode(b),"next"===this.options.hintSelect){var d=document.createTextNode("");Lc()(b).after(d),md.createFromNodeBefore(d).select()}else md.createFromNodeAfter(b).select();this.lastWordRange=null,this.hide(),this.context.invoke("editor.focus")}}},{key:"nodeFromItem",value:function(a){var b=this.hints[a.data("index")],c=a.data("item"),d=b.content?b.content(c):c;return"string"==typeof d&&(d=jd.createText(d)),d}},{key:"createItemTemplates",value:function(a,b){var c=this.hints[a];return b.map(function(b){var d=Lc()('<div class="note-hint-item"/>');return d.append(c.template?c.template(b):b+""),d.data({index:a,item:b}),d})}},{key:"handleKeydown",value:function(a){this.$popover.is(":visible")&&(a.keyCode===od.code.ENTER?(a.preventDefault(),this.replace()):a.keyCode===od.code.UP?(a.preventDefault(),this.moveUp()):a.keyCode===od.code.DOWN&&(a.preventDefault(),this.moveDown()))}},{key:"searchKeyword",value:function(a,b,c){var d=this.hints[a];if(d&&d.match.test(b)&&d.search){var e=d.match.exec(b);this.matchingWord=e[0],d.search(e[1],c)}else c()}},{key:"createGroup",value:function(a,b){var c=this,d=Lc()('<div class="note-hint-group note-hint-group-'+a+'"></div>');return this.searchKeyword(a,b,function(b){b=b||[],b.length&&(d.html(c.createItemTemplates(a,b)),c.show())}),d}},{key:"handleKeyup",value:function(a){var b=this;if(!Yc.contains([od.code.ENTER,od.code.UP,od.code.DOWN],a.keyCode)){var c,d,e=this.context.invoke("editor.getLastRange");if("words"===this.options.hintMode){if(c=e.getWordsRange(e),d=c.toString(),this.hints.forEach(function(a){if(a.match.test(d))return c=e.getWordsMatchRange(a.match),!1}),!c)return void this.hide();d=c.toString()}else c=e.getWordRange(),d=c.toString();if(this.hints.length&&d){this.$content.empty();var f=Xc.rect2bnd(Yc.last(c.getClientRects())),g=Lc()(this.options.container).offset();f&&(f.top-=g.top,f.left-=g.left,this.$popover.hide(),this.lastWordRange=c,this.hints.forEach(function(a,c){a.match.test(d)&&b.createGroup(c,d).appendTo(b.$content)}),// select first .note-hint-item
this.$content.find(".note-hint-item:first").addClass("active"),// set position for popover after group is created
"top"===this.direction?this.$popover.css({left:f.left,top:f.top-this.$popover.outerHeight()-Wd}):this.$popover.css({left:f.left,top:f.top+f.height+Wd}))}else this.hide()}}},{key:"show",value:function(){this.$popover.show()}},{key:"hide",value:function(){this.$popover.hide()}}]),a}();
// CONCATENATED MODULE: ./src/js/base/settings.js
Lc.a.summernote=Lc.a.extend(Lc.a.summernote,{version:"0.8.18",plugins:{},dom:jd,range:md,lists:Yc,options:{langInfo:Lc.a.summernote.lang["en-US"],editing:!0,modules:{editor:wd,clipboard:xd,dropzone:yd,codeview:zd,statusbar:Bd,fullscreen:Cd,handle:Dd,
// FIXME: HintPopover must be front of autolink
//  - Script error about range when Enter key is pressed on hint popover
hintPopover:Xd,autoLink:Gd,autoSync:Hd,autoReplace:Id,placeholder:Jd,buttons:Kd,toolbar:Ld,linkDialog:Md,linkPopover:Nd,imageDialog:Od,imagePopover:Pd,tablePopover:Qd,videoDialog:Rd,helpDialog:Sd,airPopover:Vd},buttons:{},lang:"en-US",followingToolbar:!1,toolbarPosition:"top",otherStaticBar:"",
// toolbar
codeviewKeepButton:!1,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],
// popover
popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]],["view",["fullscreen","codeview"]]]},
// air mode: inline editor
airMode:!1,overrideContextMenu:!1,
// TBD
width:null,height:null,linkTargetBlank:!0,useProtocol:!0,defaultProtocol:"http://",focus:!1,tabDisabled:!1,tabSize:4,styleWithCSS:!1,shortcuts:!0,textareaAutoSync:!0,tooltip:"auto",container:null,maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,disableGrammar:!1,placeholder:null,inheritPlaceholder:!1,
// TODO: need to be documented
recordEveryKeystroke:!1,historyLimit:200,
// TODO: need to be documented
showDomainOnlyForAutolink:!1,
// TODO: need to be documented
hintMode:"word",hintSelect:"after",hintDirection:"bottom",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],addDefaultFonts:!0,fontSizes:["8","9","10","11","12","14","18","24","36"],fontSizeUnits:["px","pt"],
// pallete colors(n x n)
colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],
// http://chir.ag/projects/name-that-color/
colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},
// By default, dialogs are attached in container.
dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!0,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ESC:"escape",ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ESC:"escape",ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})},/***/
4:/***/
function(a,b,c){},/***/
52:/***/
function(a,b,c){"use strict";
// CONCATENATED MODULE: ./src/js/bs3/ui.js
function d(a){"@babel/helpers - typeof";return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}
// ESM COMPAT FLAG
c.r(b);
// EXTERNAL MODULE: external {"root":"jQuery","commonjs2":"jquery","commonjs":"jquery","amd":"jquery"}
var e=c(0),f=/*#__PURE__*/c.n(e),g=c(1),h=g.a.create('<div class="note-editor note-frame panel panel-default"/>'),i=g.a.create('<div class="panel-heading note-toolbar" role="toolbar"/>'),j=g.a.create('<div class="note-editing-area"/>'),k=g.a.create('<textarea class="note-codable" aria-multiline="true"/>'),l=g.a.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),m=g.a.create(['<output class="note-status-output" role="status" aria-live="polite"></output>','<div class="note-statusbar" role="status">','<div class="note-resizebar" aria-label="Resize">','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>',"</div>","</div>"].join("")),n=g.a.create('<div class="note-editor note-airframe"/>'),o=g.a.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"></div>','<output class="note-status-output" role="status" aria-live="polite"></output>'].join("")),p=g.a.create('<div class="note-btn-group btn-group">'),q=g.a.create('<ul class="note-dropdown-menu dropdown-menu">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",e=b.template?b.template(a):a,f="object"===d(a)?a.option:void 0,g='data-value="'+c+'"',h=void 0!==f?' data-option="'+f+'"':"";return'<li aria-label="'+c+'"><a href="#" '+(g+h)+">"+e+"</a></li>"}).join(""):b.items;a.html(c).attr({"aria-label":b.title}),b&&b.codeviewKeepButton&&a.addClass("note-codeview-keep")}),r=function(a,b){return a+" "+w(b.icons.caret,"span")},s=g.a.create('<ul class="note-dropdown-menu dropdown-menu note-check">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",d=b.template?b.template(a):a;return'<li aria-label="'+a+'"><a href="#" data-value="'+c+'">'+w(b.checkClassName)+" "+d+"</a></li>"}).join(""):b.items;a.html(c).attr({"aria-label":b.title}),b&&b.codeviewKeepButton&&a.addClass("note-codeview-keep")}),t=g.a.create('<div class="modal note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(a,b){b.fade&&a.addClass("fade"),a.attr({"aria-label":b.title}),a.html(['<div class="modal-dialog">','<div class="modal-content">',b.title?'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button><h4 class="modal-title">'+b.title+"</h4></div>":"",'<div class="modal-body">'+b.body+"</div>",b.footer?'<div class="modal-footer">'+b.footer+"</div>":"","</div>","</div>"].join(""))}),u=g.a.create(['<div class="note-popover popover in">','<div class="arrow"></div>','<div class="popover-content note-children-container"></div>',"</div>"].join(""),function(a,b){var c="undefined"!=typeof b.direction?b.direction:"bottom";a.addClass(c),b.hideArrow&&a.find(".arrow").hide()}),v=g.a.create('<div class="checkbox"></div>',function(a,b){a.html(["<label"+(b.id?' for="note-'+b.id+'"':"")+">",'<input type="checkbox"'+(b.id?' id="note-'+b.id+'"':""),b.checked?" checked":"",' aria-checked="'+(b.checked?"true":"false")+'"/>',b.text?b.text:"","</label>"].join(""))}),w=function(a,b){return b=b||"i","<"+b+' class="'+a+'"></'+b+">"},x=function(a){return{editor:h,toolbar:i,editingArea:j,codable:k,editable:l,statusbar:m,airEditor:n,airEditable:o,buttonGroup:p,dropdown:q,dropdownButtonContents:r,dropdownCheck:s,dialog:t,popover:u,checkbox:v,icon:w,options:a,palette:function(b,c){return g.a.create('<div class="note-color-palette"/>',function(b,c){for(var d=[],e=0,f=c.colors.length;e<f;e++){for(var g=c.eventName,h=c.colors[e],i=c.colorsName[e],j=[],k=0,l=h.length;k<l;k++){var m=h[k],n=i[k];j.push(['<button type="button" class="note-color-btn"','style="background-color:',m,'" ','data-event="',g,'" ','data-value="',m,'" ','title="',n,'" ','aria-label="',n,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}d.push('<div class="note-color-row">'+j.join("")+"</div>")}b.html(d.join("")),c.tooltip&&b.find(".note-color-btn").tooltip({container:c.container||a.container,trigger:"hover",placement:"bottom"})})(b,c)},button:function(b,c){return g.a.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(b,c){c&&c.tooltip&&b.attr({title:c.tooltip,"aria-label":c.tooltip}).tooltip({container:c.container||a.container,trigger:"hover",placement:"bottom"}).on("click",function(a){f()(a.currentTarget).tooltip("hide")}),c&&c.codeviewButton&&b.addClass("note-codeview-keep")})(b,c)},toggleBtn:function(a,b){a.toggleClass("disabled",!b),a.attr("disabled",!b)},toggleBtnActive:function(a,b){a.toggleClass("active",b)},onDialogShown:function(a,b){a.one("shown.bs.modal",b)},onDialogHidden:function(a,b){a.one("hidden.bs.modal",b)},showDialog:function(a){a.modal("show")},hideDialog:function(a){a.modal("hide")},createLayout:function(b){var c=(a.airMode?n([j([k(),o()])]):h("bottom"===a.toolbarPosition?[j([k(),l()]),i(),m()]:[i(),j([k(),l()]),m()])).render();return c.insertAfter(b),{note:b,editor:c,toolbar:c.find(".note-toolbar"),editingArea:c.find(".note-editing-area"),editable:c.find(".note-editable"),codable:c.find(".note-codable"),statusbar:c.find(".note-statusbar")}},removeLayout:function(a,b){a.html(b.editable.html()),b.editor.remove(),a.show()}}},y=x;c(3),c(4);
// CONCATENATED MODULE: ./src/js/bs3/settings.js
f.a.summernote=f.a.extend(f.a.summernote,{ui_template:y,"interface":"bs3"})}})}),function(a){a.extend(a.summernote.plugins,{ddmedia:function(b){var c=b.layoutInfo,d=c.toolbar,e=a.summernote.ui;this.initialize=function(){
// create button
var c=e.button({className:"btn-default",contents:'<i class="fa fa-file-image-o"></i>',click:function(a){"undefined"==typeof MediaLibrary?top.basefrm&&top.basefrm.OverlayInstance&&top.basefrm.OverlayInstance.showOverlay(b):MediaLibrary.open(/image\/.*/i,function(a,c,d){b.invoke("editor.insertImage",d,function(a){a.css("max-width","100%"),a.attr("data-filename",c),a.attr("data-filepath",d),a.attr("data-source","media"),a.addClass("dd-wysiwyg-media-image")})})}});
// generate jQuery element from button instance.
this.$button=c.render(),d.find(".note-btn-group.note-insert").length?d.find(".note-btn-group.note-insert").append(this.$button):d.append(a('<div class="note-btn-group btn-group" />').append(this.$button))},this.destroy=function(){this.$button.remove(),this.$button=null}}})}(jQuery),function(a){"use strict";var b=function(a){return a&&"TEXTAREA"===a.nodeName.toUpperCase()};a.extend(a.summernote.dom,{value:function(a,c){var d;
// fix smarty tags within attributes
// switch smarty function call with media url
return b(a[0])?(d=a.val(),d=d.replace(/(=\s*")([^">]*)(\[\{([^\}\]]|\}[^\]]|[^\}]\])*\}\])([^">]*)(")/gi,function(a,b,c,d,e,f,g){return d=d.replace(/\\"/g,"'").replace(/"/g,"'"),b+c+d+f+g}),d=d.replace(/<img[^>]*src=\s*"(\[\{\$oViewConf\-\>getMediaUrl\(\)\}\][^">]+)"[^>]*data-filepath=\s*"([^">]+)"[^>]*class=\s*"[^">]*dd-wysiwyg-media-image[^">]*"[^>]*>/gi,function(a,b,c){return a=a.replace(b,c)})):d=a.html(),c?d.replace(/[\n\r]/g,""):d},html:function(b,c){var d=this.value(b);if(c){var e=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;d=d.replace(e,function(a,b,c){c=c.toUpperCase();var d=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b,e=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(d||e?"\n":"")}),d=a.trim(d)}
// set media smarty tags
// replace html entities in smarty tags
return d=d.replace(/<img[^>]*src=\s*"([^"]+)"[^>]*data-filename=\s*"([^">]+)"[^>]*class=\s*"[^">]*dd-wysiwyg-media-image[^">]*"[^>]*>/gi,function(a,b,c){return a.replace(b,"[{$oViewConf->getMediaUrl()}]"+c)}),d=d.replace(/\[\{(([^\}\]]|\}[^\]]|[^\}]\])*)\}\]/gi,function(b,c,d){return a("<textarea />").html(b).text()})}})}(jQuery),/**
 * This file is part of OXID eSales WYSIWYG module.
 *
 * OXID eSales WYSIWYG module is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * OXID eSales WYSIWYG module is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with OXID eSales WYSIWYG module.  If not, see <http://www.gnu.org/licenses/>.
 *
 * @link      http://www.oxid-esales.com
 * @copyright (C) OXID eSales AG 2003-2017
 * @version   OXID eSales WYSIWYG
 */
$.noConflict(),+function(a){"use strict";var b=a.fn.tooltip;a.fn.tooltip=function(a){return"[object Object]"===Object.prototype.toString.call(a)&&(a.container="#ddoew"),b.call(this,a)},a(function(){
// Summernote WYSIWYG Editor
if("function"==typeof a().summernote){a(".ddoe-wysiwyg-editor > textarea").each(function(){var b=a(this).attr("data-rte");if("undefined"==typeof b){a(this).attr("data-rte","1"),a(this).closest("td").find(".messagebox").remove();var c=a(this).height(),d=a(this).summernote({lang:"de-DE",minHeight:c||100,toolbar:[["style",["style"]],["formatting",["bold","italic","underline","strikethrough","superscript","clear"]],
//[ 'fontname', [ 'fontname' ] ],
["fontsize",["fontsize"]],["color",["color"]],["layout",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","video","hr"]],["misc",["codeview"]]],dialogsInBody:!1,buttons:{ddmedia:"ddmedia"},disableDragAndDrop:!0});"disabled"===a(this).attr("disabled")&&a(this).summernote("disable");var e=d.data("summernote");e.invoke("codeview.activate"),e.invoke("codeview.deactivate")}});var b=a(".ddoe-wysiwyg-editor").first().closest("form");b.find('*[type="submit"]').first().on("click",function(){a(".ddoe-wysiwyg-editor > textarea",b).each(function(){var b=a(this).data("summernote");
// deactivate codeview before getting value
b.invoke("codeview.isActivated")&&b.invoke("codeview.deactivate"),b.invoke("codeview.activate"),
// replace incorrectly encoded html lace bracket in smarty tags
this.value=this.value.replace(/\[\{(([^\}\]]|\}[^\]]|[^\}]\])*)\}\]/gi,function(a){return a.replace(/-\&gt;/g,"->")})})})}})}(jQuery);
//# sourceMappingURL=backend.min.js.map